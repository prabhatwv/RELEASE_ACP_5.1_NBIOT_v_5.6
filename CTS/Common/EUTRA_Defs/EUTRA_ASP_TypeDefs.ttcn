/******************************************************************************/
// @copyright   Copyright Notification
//   No part may be reproduced except as authorized by written permission.
//   The copyright and the foregoing restriction extend to reproduction in all media.
//   Trademark 2019, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA, TTC).
//   All rights reserved.
// @version: 36.523-3 v15.3.0
// $Date: 2018-11-16 11:21:44 +0100 (Fri, 16 Nov 2018) $
// $Rev: 22932 $
/******************************************************************************/

module EUTRA_ASP_TypeDefs {
  /* Type definitions for configuration of the system simulator;
   * Common design principles:
   * Semantics of OMIT: for all TTCN-3 type definitions used in ASPs omit means "keep as it is" =>
   * - on initial configuration in general all fields shall be provided
   * - no default values for fields are foreseen
   * - if necessary non-existence of information shall be explicitly configured
   *   (e.g. with a union of "no configuration" and "configuration parameters"
   * - fields within structures imported from the core spec are excepted from this rule */

  import from CommonDefs all;
  import from CommonAspDefs all;
  import from EUTRA_CommonDefs all;
  import from EUTRA_NB_CommonDefs all;
  import from EUTRA_NB_ASP_TypeDefs all;
  import from EUTRA_RRC_ASN1_Definitions language "ASN.1:2002" all with {encode "UNALIGNED_PER_OctetAligned"};
  import from NR_PDCP_TypeDefs all;

  //****************************************************************************

  group ASN1_Container { /* Definitions containing ASN.1 types for backward compatibility;
                          * NOTE 1: PCCH_Message and BCCH_DL_SCH_Message already have a critical extension mechanism by RRC type definition
                          * NOTE 2: BCCH_BCH_Message contains the MIB and therefore is considered to be not extendable
                          * NOTE 3: "simple types" are not considered: C_RNTI, PhysCellId, CellIdentity, ARFCN_ValueEUTRA
                          */

  type record AntennaInfoDedicated_R8andLater_Type {
    AntennaInfoDedicated antennaInfo,
    AntennaInfoDedicated_v920 antennaInfo_v920 optional
  };
  type record AntennaInfoDedicated_R10andLater_Type {
    AntennaInfoDedicated_r10 antennaInfo,
    AntennaInfoUL_r10 antennaInfoUL optional,
    AntennaInfoDedicated_v10i0 antennaInfoDedicated_v10i0 optional,
    AntennaInfoDedicated_v1250 antennaInfoDedicated_v1250 optional,
    AntennaInfoDedicated_v1430 antennaInfoDedicated_v1430 optional
  };
  type record CQI_ReportConfig_R8andLater_Type {
    CQI_ReportConfig cqi_ReportConfig,
    CQI_ReportConfig_v920 cqi_ReportConfig_v920 optional
  };
  type record CQI_ReportConfig_R10andLater_Type {
    CQI_ReportConfig_r10 cqi_ReportConfig_r10,                                          /* NOTE: field 'csi-SubframePatternConfig-r10' is not relevant as long as a cell is configured as SCell */
    CQI_ReportConfig_v1130 cqi_ReportConfig_v1130 optional,
    CQI_ReportConfig_v1250 cqi_ReportConfig_v1250 optional
  };
  type record PUCCH_ConfigDedicated_R8andLater_Type {
    PUCCH_ConfigDedicated pucch_ConfigDedicated,
    PUCCH_ConfigDedicated_v1020 pucch_ConfigDedicated_v1020 optional,
    PUCCH_ConfigDedicated_v1130 pucch_ConfigDedicated_v1130 optional,
    PUCCH_ConfigDedicated_v1250 pucch_ConfigDedicated_v1250 optional
  };
  type record PUSCH_ConfigDedicated_R8andLater_Type {
    PUSCH_ConfigDedicated pusch_ConfigDedicated,                                        /* in case of CA beta offset shall be the same for the PCell and the associated SCells */
    PUSCH_ConfigDedicated_v1020 pusch_ConfigDedicated_v1020 optional,                   /* optionally present for Rel 10 cells (normal or CA); in case of CA beta offset shall be the same for the PCell and the associated SCells */
    PUSCH_ConfigDedicated_v1130 pusch_ConfigDedicated_v1130 optional,
    PUSCH_ConfigDedicated_v1250 pusch_ConfigDedicated_v1250 optional
  };
  type record UplinkPowerControlCommon_R8andLater_Type {
    UplinkPowerControlCommon uplinkPowerControlCommon,
    UplinkPowerControlCommon_v1020 uplinkPowerControlCommon_v1020 optional,             /* optionally present for Rel 10 cells (normal or CA);
                                                                                           NOTE: 'p0-NominalPUCCH', 'deltaFList-PUCCH', 'deltaPreambleMsg3' and 'UplinkPowerControlCommon-v1020' are not relevant as long as a cell is configured as SCell */
    UplinkPowerControlCommonSCell_v1130 uplinkPowerControlCommonSCell_v1130 optional,   /* only present when cell is configured as Rel 11 or later Scell */
    UplinkPowerControlCommonPSCell_r12 uplinkPowerControlCommonPSCell_r12 optional
  };
  type record UplinkPowerControlDedicated_R8andLater_Type {
    UplinkPowerControlDedicated uplinkPowerControlDedicated,
    UplinkPowerControlDedicated_v1020 uplinkPowerControlDedicated_v1020 optional,       /* optionally present for Rel 10 cells (normal or CA);
                                                                                           NOTE: field 'p0-UE-PUCCH' is not relevant as long as a cell is configured as SCell */
    SCellPathlossReferenceLinking_Type pathlossReferenceLinking optional,               /* NOTE: relevant only as long as a cell is configured as SCell */
    UplinkPowerControlDedicated_v1130 uplinkPowerControlDedicated_v1130 optional,
    UplinkPowerControlDedicated_v1250 uplinkPowerControlDedicated_v1250 optional
  };
  type record SoundingRS_UL_ConfigDedicated_R8andLater_Type {
    SoundingRS_UL_ConfigDedicated soundingRS_UL_ConfigDedicated optional,
    SoundingRS_UL_ConfigDedicated_v1020 soundingRS_UL_ConfigDedicated_v1020 optional,
    SoundingRS_UL_ConfigDedicatedAperiodic_r10 soundingRS_UL_ConfigDedicatedAperiodic_r10 optional
  };
  type record SchedulingRequestConfig_R8andLater_Type {
    SchedulingRequestConfig schedulingRequestConfig,
    SchedulingRequestConfig_v1020 schedulingRequestConfig_v1020 optional
  };
  type record TDD_Config_R8andLater_Type {
    TDD_Config R8,
    TDD_Config_v1130 tdd_Config_v1130 optional
  };
  type record RACH_ConfigCommon_R8andLater_Type {
    RACH_ConfigCommon  rach_ConfigCommon,                       /* All parameters in RACH_ConfigCommonScell_r11 are covered by RACH_ConfigCommon;
                                                                   RACH_ConfigCommon will be used in Scell also for a complete set of RACH parameters both when configured as a Scell or normal RACH procedure when it seazes to exist as Scell;
                                                                   when cell is configured as Scell, additional parameters shall be ignored by SS */
    RACH_ConfigCommon_v1250  rach_ConfigCommon_v1250 optional
  };
  type union TDD_Config_Type {
    TDD_Config_R8andLater_Type R8andLater
  };
  type union AntennaInfoCommon_Type {
    AntennaInfoCommon R8
  };
  type union AntennaInfoDedicated_Type {                        /* NOTE: acc. to Cond AI-r8/AI-r10 of PhysicalConfigDedicated 'antennaInfo'/'antennaInfo-v920' and 'antennaInfo-r10' are mutual exclusive */
    AntennaInfoDedicated_R8andLater_Type R8andLater,
    AntennaInfoDedicated_R10andLater_Type R10andLater
  };
  type union PHICH_Config_Type {
    PHICH_Config R8
  };
  type union PRACH_Config_Type {
    PRACH_Config_R8andLater_Type  R8andLater
  };
  type record PRACH_Config_R8andLater_Type {                    /* SS shall ignore IE PRACH_Config if PRACH_Config_v1430 is present and preamble set to be used as per parameters in PRACH_Config_v1430 */
    PRACH_Config          prach_Config,
    PRACH_Config_v1310    prach_Config_v1310 optional,
    PRACH_Config_v1430    prach_Config_v1430 optional
  };
  type union PUCCH_ConfigCommon_Type {
    PUCCH_ConfigCommon_R8andLater_Type R8andLater
  };
  type record PUCCH_ConfigCommon_R8andLater_Type {
    PUCCH_ConfigCommon            pucch_ConfigCommon,
    PUCCH_ConfigCommon_v1310      pucch_ConfigCommon_v1310 optional
  };
  type union PUCCH_ConfigDedicated_Type {
    PUCCH_ConfigDedicated_R8andLater_Type R8andLater,
    PUCCH_ConfigDedicated_R13andLater_Type R13andLater
  };
  type record PUCCH_ConfigDedicated_R13andLater_Type {
    PUCCH_ConfigDedicated_r13     pucch_ConfigDedicated_r13   /* E-UTRAN configures pucch-ConfigDedicated-r13 only if pucch-ConfigDedicated is not configured */
  };
  type union PUSCH_ConfigCommon_Type {
    PUSCH_ConfigCommon_R8andLater_Type R8andLater
  };
  type record PUSCH_ConfigCommon_R8andLater_Type {
    PUSCH_ConfigCommon           pusch_ConfigCommon,
    PUSCH_ConfigCommon_v1270     pusch_ConfigCommon_v1270 optional,
    PUSCH_ConfigCommon_v1310     pusch_ConfigCommon_v1310 optional
  };
  type union PUSCH_ConfigDedicated_Type {
    PUSCH_ConfigDedicated_R8andLater_Type R8andLater,
    PUSCH_ConfigDedicated_R13andLater_Type R13andLater
  };
  type record PUSCH_ConfigDedicated_R13andLater_Type {
   PUSCH_ConfigDedicated_r13     pusch_ConfigDedicated_r13   /* E-UTRAN configures pusch-ConfigDedicated-r13 only if pusch-ConfigDedicated is not configured */
  };
  type union SoundingRS_UL_ConfigCommon_Type {
    SoundingRS_UL_ConfigCommon R8
  };
  type union SoundingRS_UL_ConfigDedicated_Type {
    SoundingRS_UL_ConfigDedicated_R8andLater_Type R8andLater
  };
  type union SchedulingRequestConfig_Type {
    SchedulingRequestConfig_R8andLater_Type R8andLater
  };
  type union CQI_ReportConfig_Type {                        /* NOTE: acc. to Cond CQI-r8/CQI-r10 of PhysicalConfigDedicated 'cqi-ReportConfig'/'cqi-ReportConfig-v920' and 'cqi-ReportConfig-r10' are mutual exclusive */
    CQI_ReportConfig_R8andLater_Type R8andLater,
    CQI_ReportConfig_R10andLater_Type R10andLater
  };
  type union RACH_ConfigCommon_Type {
    RACH_ConfigCommon_R8andLater_Type R8andLater
  };
  type union RACH_ConfigDedicated_Type {
    RACH_ConfigDedicated R8
  };
  type union MeasGapConfig_Type {
    MeasGapConfig R8
  };
  type union PDCP_Config_Type {
    PDCP_Config R8
  };
  type union UL_AM_RLC_Type {
    UL_AM_RLC R8
  };
  type union DL_AM_RLC_Type {
    DL_AM_RLC R8
  };
  type union UL_UM_RLC_Type {
    UL_UM_RLC R8
  };
  type union DL_UM_RLC_Type {
    DL_UM_RLC R8
  };
  type record TTI_BundlingConfig_R8andLater_Type {
    TTI_Bundling_Type   TTI_BundlingEnabled,
    E_HARQ_Pattern_r12_Type  E_HARQ_Pattern  optional
  };

  type union TTI_BundlingConfig_Type {
    boolean   R8,
    TTI_BundlingConfig_R8andLater_Type R8andLater
  };
  type record DRX_Config_R8andLater_Type  {
    DRX_Config                        R8  optional,
    DRX_Config_r13_Type               R13 optional,
    EDRX_CycleStartOffset_r13_Type    EDRX_CycleStartOffset_r13 optional
  };
  type union DRX_Config_Type {
    DRX_Config_R8andLater_Type  R8andLater
  };
  type union SpsConfigurationDL_Type {
    SPS_ConfigDL.setup R8
  };
  type union SpsConfigurationUL_Type {
    SPS_ConfigUL.setup R8
  };
  type union UplinkPowerControlCommon_Type {
    UplinkPowerControlCommon_R8andLater_Type R8andLater
  };
  type union UplinkPowerControlDedicated_Type {
    UplinkPowerControlDedicated_R8andLater_Type R8andLater
  };

  } // End group ASN1_Container

  //****************************************************************************

  group System_Configuration {
  //****************************************************************************
  // Formal ASP Definitions for system configuration
  //****************************************************************************

  type union SystemRequest_Type {
    CellConfigRequest_Type              Cell,                   /* configure/release a cell */
    CellAttenuationList_Type            CellAttenuationList,    /* power attenuation for one or several cells;
                                                                 * all cells included in the list shall be changed at the same time;
                                                                 * all cells in the list shall reach the new cell power within a maximum of 100ms (10 frames)
                                                                 * acc. to the tolerances given in TS 36.508
                                                                 * NOTE: In the common ASP part the CellId shall be set
                                                                 * - to the cell the timing information refers to if activation time shall be applied
                                                                 * - to eutra_Cell_NonSpecific when there is no activation time */
    RadioBearerList_Type                RadioBearerList,        /* configure/release one or several SRBs and/or DRBs
                                                                 * NOTE: RBs are not configured in an SCell */
    Null_Type                           EnquireTiming,          /* get SFN and sub-frame number for this cell */
    AS_Security_Type                    AS_Security,            /* StartRestart/Release of AS security */
    SpsConfig_Type                      Sps,                    /* to configure/activate or release semi-persistent scheduling */
    PagingTrigger_Type                  Paging,                 /* to trigger SS to send paging at the given paging occasion (as calculated in TTCN) */
    L1Mac_IndicationControl_Type        L1MacIndCtrl,           /* to configure SS to generate indications for L1/MAC events */
    Rlc_IndicationControl_Type          RlcIndCtrl,             /* to configure SS to generate indications for RLC events */
    PDCP_CountReq_Type                  PdcpCount,              /* to set or enquire PDCP COUNT for one ore more RBs */
    PDCP_HandoverControlReq_Type        PdcpHandoverControl,    /* to inform the target cell about the handover */
    L1_TestMode_Type                    L1_TestMode,            /* To Set L1/MAC in special Test modes e.g. DL CRC, PHICH etc */
    RA_PDCCH_Order_Type                 PdcchOrder,             /* to configure SS to transmit a PDCCH order with configured C-RNTI to the UE
                                                                   to trigger RA procedure;
                                                                   result in DCI Format 1A transmission as in TS 36.212, clause 5.3.3.1.3 */
    ActivateScell_Type                  ActivateScell,          /* to configure SS to transmit a MAC control Element to activate an Scell */
    MBMS_Config_Type                    MbmsConfig,             /* Configuration of PMCH/MCCH/MTCH for eMBMS */
    PDCCH_MCCH_ChangeNotification_Type  PDCCH_MCCH_ChangeNotification,  /* To trigger SS to send MCCH change notification at the given SFN/subframe (as calculated in TTCN) */
    MSI_Config_Type                     MSI_Config,             /* Configuration of MSI in MBMS normal mode to be included by the SS in the first subframe allocated to the MCH within the MCH scheduling period;
                                                                 * uses MRB_ID option in routing info and logical channel ID is omitted */
    UE_CategoryInfo_Type                UE_Cat_Info,            /* provides UE category info to SS; to be used e.g. for determination of Nsoft bits for rate matching
                                                                 * To be configured in SS after preamble in MAC TBS test cases */
    OCNG_Config_Type                    OCNG_Config,            /* Provides SS Mode for Activating/Releasing OCNG configuration in the cell */
    PDCCH_TDD_ConfigOrder_Type          PdcchTddConfigOrder,     /* To trigger SS to send DCI 1C message(s) from a given SFN/subframe (as calculated in TTCN) over PDCCH with CRC scrambled by the eIMTA-RNTI,
                                                                 * to indicate the eIMTA-UL/DL-configuration.
                                                                 * The SS shall set the DCI 1C content according to eimta_UL_DL_ConfigIndex_r12 provided in EIMTA_Config
                                                                 */
    DirectIndicationInfoTrigger_Type    DirectIndicationInfo,    /* To Trigger SS to transmit a Direct Indication information using DCI command 6_2 and including the 8 bits in the DCI command */
    LAA_SubframeConfiguration_Type      LAA_SubframeConfiguration, /* to trigger transmission of DCI format 1C transmitted for CC-RNTI to configure subframe configuration for frame structure type 3 */
    MultipleUlSpsConfig_Type            MultipleUlSps            /* to configure/activate or release multiple semi-persistent scheduling */
  };

  type union SystemConfirm_Type {                               /* confirmations for system configuration;
                                                                   in general to be sent after the configuration has been done */
    Null_Type                           Cell,                   /* (no further parameters from SS) */
    Null_Type                           CellAttenuationList,    /* (no further parameters from SS)
                                                                 * NOTE 1:
                                                                 * the confirmation shall be sent when all cells have changed power levels
                                                                 * NOTE 2:
                                                                 * for the CellId in the common ASP part the same rules are applied as for the SYSTEM REQ */
    Null_Type                           RadioBearerList,        /* (no further parameters from SS) */
    Null_Type                           EnquireTiming,          /* SFN and sub-frame number are included in the TimingInfo */
    Null_Type                           AS_Security,            /* (no further parameters from SS) */
    Null_Type                           Sps,                    /* (no further parameters from SS) */
    Null_Type                           Paging,                 /* normally not needed but defined for completeness */
    Null_Type                           L1MacIndCtrl,           /* (no further parameters from SS) */
    Null_Type                           RlcIndCtrl,             /* (no further parameters from SS) */
    PDCP_CountCnf_Type                  PdcpCount,              /* as response to 'Get' a list is returned containing COUNT information for the requested RBs */
    Null_Type                           PdcpHandoverControl,    /* confirmation for PDCP handover control */
    Null_Type                           L1_TestMode,            /* confirmation for L1 test mode */
    Null_Type                           PdcchOrder,             /* confirmation for PDCCH Order */
    Null_Type                           ActivateScell,          /* confirmation for ActivateScell */
    Null_Type                           MbmsConfig,             /* confirmation for MbmsConfig */
    Null_Type                           PDCCH_MCCH_ChangeNotification,  /* normally not needed but defined for completeness */
    Null_Type                           MSI_Config,             /* confirmation for explicit MSI Configuration */
    Null_Type                           UE_Cat_Info,            /* confirmation for UE CAT info */
    Null_Type                           OCNG_Config,            /* Confirmation of OCNG configuration */
    Null_Type                           DirectIndicationInfo    /* Confirmation of DirectIndicationInfo */
  };
  
  type union SystemIndication_Type {
    charstring                          Error,                  /* indicates an error situation in SS;
                                                                 * is not explicitly handled in TTCN but causes an INCONC due to default behaviour;
                                                                 * an additional error code can be signalled in the common part of the ASP;
                                                                 * SS shall raise an error in case of
                                                                 * - Invalid TimingInfo for TDD
                                                                 * - Contradiction of periodic UL grants and TDD configuration
                                                                 * - Data scheduled for the same TTI does not fit into an available transport block
                                                                 * (NOTE: additional cases may occur) */
    RachPreamble_Type                   RachPreamble,           /* RACH preamble being sent by the UE
                                                                 * In case of Preamble repetition (BL/CE UE under test) the SS sends one indication after reception of all preamble repetitions  of a preamble attempt based on the CE level of UE.
                                                                 */
    Null_Type                           SchedReq,               /* indication for scheduling request sent by the UE
                                                                 * In case of HARQ repetition (PUCCH Repetition of BL/CE UE under test) the SS sends one SI indication after reception of all PUCCH repetitions based on the CE level of UE*/
    BSR_Type                            BSR,                    /* to report the Buffer/Extended Buffer status report, Sidelink Buffer Status Report or Truncated Sidelink Buffer Status Report being received */
    HARQ_Type                           UL_HARQ,                /* to report the UL HARQ as received on PUCCH[TTI] for corresponding DL transmission in TTI-x,
                                                                 * where x is normally 4.
                                                                 * In case of HARQ repetition (PUCCH/PUSCH Repetition of BL/CE UE under test) the SS sends one HARQ indication after reception of all PUCCH/PUSCH repetitions based on the CE level of UE*/
    C_RNTI                              C_RNTI,                 /* indicates C-RNTI being contained in a MAC PDU sent by the UE */
    PHR_Type                            PHR,                    /* to report the Power headroom report received */
    HarqError_Type                      HarqError,              /* indicates detection of HARQ error:
                                                                 * 1. HARQ CRC error for UL data
                                                                 * 2. HARQ NACK from the UE unless SS is configured to report HARQ ACK/NACK
                                                                 * In case of HARQ repetition (PUCCH/PUSCH Repetition of BL/CE UE under test) the SS sends one HARQ indication after reception of all PUCCH/PUSCH repetitions based on the CE level of UE*/
    RlcDiscardInd_Type                  RlcDiscardInd,          /* indicates e.g. discarded PDUs */
    RI_Type                             PeriodicRI,             /* indicates periodic Rank Indicator (RI) reported by the UE on PUCCH or PUSCH;
                                                                 * periodic CQI/PMI/RI Reporting is semi-statically configured at the UE by higher layers (see TS 36.213 clause 7.2.2);
                                                                 * aperiodic reporting acc. to TS 36.213 clause 7.2.1 shall not be indicated
                                                                 * NOTE:
                                                                 * Acc. to TS 36.213 clause 7.2 aperiodic reporting has higher precedence than periodic reporting;
                                                                 * => as working assumption the CQI request field in DCI format 0 is expected to be 0 for UL grants assigned by the SS i.e. aperiodic reporting acc. to TS 213 clause 7.2.1 does not happen
                                                                 * In case of RI repetition (PUCCH/PUSCH Repetition of BL/CE UE under test) the SS sends one RI indication after reception of all PUCCH/PUSCH repetitions based on the CE level of UE*/
    MAC_CTRL_ExtPowerHeadRoom_Type      EPHR,                   /* indicates Extended Power headroom report reported by the UE */
    Null_Type                           CqiInd,                 /* indicates  periodic CQI reported by the UE - NOTE: Report CQI value is currently not required */
    SRSInd_Type                         SrsInd,                 /* Indicates start or stop of Type 0 SRS reception on configured periodic SRS resources */
    MAC_CTRL_DC_PowerHeadRoom_Type      DC_PHR                  /* indicates Dual Connectivity Power headroom report reported by the UE */
  };
  
  } // End group System_Configuration

  //****************************************************************************

  group Cell_Configuration { /* Specific Info for Cell Configuration Primitive */

  // Primitive definition covers:
  // - Initial cell configuration
  // - Cell reconfigurations, mainly:
  //   - Cell Power configuration
  //   - System information
  //   - (to be continued)
  // - Release of a cell

  //----------------------------------------------------------------------------

  group Cell_Configuration_Common {

  type union CellConfigRequest_Type {

    CellConfigInfo_Type         AddOrReconfigure,               /* for cell configuration:
                                                                 * CellId : identifier of the cell to be configured
                                                                 * RoutingInfo : None
                                                                 * TimingInfo : Now (for initial configuration and for reconfiguration in general)
                                                                 * ControlInfo : CnfFlag:=true; FollowOnFlag:=false (in general) */
    Null_Type                   Release                         /* to remove a cell completely -
                                                                 * CellId : identifier of the cell to be released; eutra_Cell_NonSpecific, in case all cells shall be released
                                                                 * RoutingInfo : None
                                                                 * TimingInfo : Now
                                                                 * ControlInfo : CnfFlag:=true; FollowOnFlag:=false (in general) */
  };
  
  type record CellConfigInfo_Type {
    /* common information for initial cell configuration or reconfiguration;
       in case of reconfiguration OMIT means 'keep configuration as it is' */
    BasicCellConfig_Type        Basic     optional,             /* basic information for a cell (e.g. broadcasting) */
    ActiveCellConfig_Type       Active    optional              /* add. configuration for active cell (i.e. cell being capable to receive RACH preamble) */
  };
  
  type enumerated CellConfigCapability_Type {                  /* capabilities of a cell acc. to the initial condition of a test case */
    broadcastOnlyCell,          /* no detection of RACH preambles required; cell is only broadcasting */
    minimumUplinkCell,          /* detection of RACH preambles required but not any further RX capability */
    fullCell                    /* full TX and RX capabilities */
  };
  
  type enumerated CA_CellInitialConfig_Type {
    PCell,           /* The cell when added as a component carrier (CC) in CA scenario for first time will be configured as an PCell */
    Scell_Active,    /* The cell when added as a component carrier (CC) in CA scenario for first time will be configured as an SCell, and when configured as Scell, it may be activated, 36.508 clause 6.3.4 */
    Scell_Inactive,  /* The cell when added as a component carrier (CC) in CA scenario for first time will be configured as an SCell, and when configured as Scell, it will never be activated, 36.508 clause 6.3.4 */
    PScell           /* The cell when added as a component carrier (CC) in CA-Dual connectivity scenario for first time will be configured as a PSCell. PSCell is always active like PCell */
  };
  
  type record BasicCellConfig_Type {
    CellConfigCapability_Type   ConfigCapability      optional, /* mandatory for the initial configuration; to be omitted afterwards */
    StaticCellInfo_Type         StaticCellInfo        optional, /* Common information which does not change during a test */
    // Physical layer:
    PhysicalLayerConfigDL_Type  PhysicalLayerConfigDL optional, /* default settings regarding physical control channels: PCFICH, PHICH, PDCCH */
    InitialCellPower_Type       InitialCellPower      optional, /* reference cell power for the RS of each antenna in DL
                                                                 * NOTE 1:
                                                                 * the power of the RS of an antenna may be reduced by antenna specific configuration
                                                                 * NOTE 2:
                                                                 * in general the power may be adjusted on a per resource element basis
                                                                 * => all physical channel/signal power settings shall be adjusted relatively to the RS;
                                                                 * if there are more than one TX antennas each one may have its own attenuation;
                                                                 * independently from those relative power settings the cell power can easily be adjusted by just changing the reference power */
    // MAC: logical channels shared by all UEs
    BcchConfig_Type             BcchConfig            optional, /* configuration of BCCH/BCH; SS is triggered to configure RLC/MAC regardingly;
                                                                 * BCCH data on the PDSCH is distinguished by the SI-RNTI
                                                                 * PBCH: MIB;
                                                                 * PDSCH: scheduling and resource allocation; SIBs */
    PcchConfig_Type             PcchConfig            optional, /* configuration of PCCH/PCH; SS is triggered to configure RLC/MAC regardingly;
                                                                 * PCCH data on the PDSCH is distinguished by the P-RNTI
                                                                 * (needed even to modify SI => shall be configured for CELL_BROADCASTING) */
    CA_CellInitialConfig_Type   CA_CellInitialConfig  optional,  /* capability of a cell when added as a CC in CA scenario.
                                                                 * 1. Provided at the initial configuration of a cell in CA test cases;  to be omitted afterwards;
                                                                 * 2. Always omit for a cell which remains normal non CA cell */
    Bcch_BRConfig_Type          BRBcchConfig           optional, /* configuration of BCCH_BR/BCH; SS is triggered to configure RLC/MAC regardingly;
                                                                  * BCCH_BR data on the PDSCH is follows fixed schedule hence no SI-RNTI DCI sent
                                                                  * PBCH: MIB;
                                                                  * PDSCH: scheduling and resource allocation; SIBs */
    LAA_SCellConfiguration_r13  LAA_SCellConfiguration  optional,  /* LAA specific information provided if the cell is being configured as Scell with frame structure 3 i.e. in Unlicensed band */
    LAA_SCellConfiguration_v1430  LAA_SCellConfiguration_v1430 optional /* LAA specific information provided if the cell is being configured as Scell with frame structure 3 i.e. in Unlicensed band
                                                                         * with ULLAA . It is optionally present if CrossCarrierScheduledCellsList_Type  is not present or configured as own, other wise not present*/
  };
  
  type record ActiveCellConfig_Type {
    C_RNTI                      C_RNTI                optional, /* (pre-)configured C-RNTI;
                                                                 * affects scrambling of PDSCH/PUSCH and CRC of PDCCH(s);
                                                                 * shall be used implicitly in RACH procedure (i.e. as CE in RAR) */
    // Physical layer:
    PhysicalLayerConfigUL_Type  PhysicalLayerConfigUL optional, /* parameters for PRACH, PUCCH, PUSCH
                                                                   Omitted when no UL frequency is applied to the band */
    // MAC: RACH procedure
    RachProcedureConfig_Type    RachProcedureConfig   optional, /* to configure the SS's behaviour for the RACH procedure
                                                                   Omitted when no UL frequency is applied to the band */
    // MAC: UE-specific logical channels and related information
    CcchDcchDtchConfig_Type     CcchDcchDtchConfig    optional, /* Parameters related to CCCH/DCCH/DTCH in UL and DL */
    ServingCellConfig_Type      ServingCellConfig     optional, /* not present as long as the cell is 'normal' cell (i.e. does not act as a carrier component in CA);
                                                                 * present to configure cell for CA (Pcell or SCell);
                                                                 * in general at initial configuration 'ServingCellInfo' is omit;
                                                                 * after sending/scheduling the RRCConnectionReconfiguration adding 1 or more cells for CA 'ServingCellInfo' is provided for the cell which gets Pcell and for the cell which gets SCell */
    SciSchedulingConfig_Type    SciSchedulingConfig optional,   /* Parameters related to SideLink scheduling SCI format 0 */
    EIMTA_Config_Type           EIMTA_Config    optional,        /* Parameters related to eIMTA in UL and DL */
    // CE Mode
    CE_Mode_r13_Type         CE_Mode   optional  /* Indicates the CE mode as specified in  TS 36.213 It is FFS if this can be ignored by SS*/
  };
  
  //----------------------------------------------------------------------------
  // Static cell info
  //----------------------------------------------------------------------------
  
  type record StaticCellInfo_Type {
    /* Common information which (normally) does not change during a test;
       therefore all fields are mandatory */
    CommonStaticCellInfo_Type   Common,
    DownlinkStaticCellInfo_Type Downlink,
    UplinkStaticCellInfo_Type   Uplink optional                 /* NOTE: for TDD UL and DL are using the same parameters
                                                                   Omitted when no UL frequency is applied to the band */
  };
  //--------------------------------------------------------
  // Common Static Cell Info
  type record CommonStaticCellInfo_Type {
    /* information common for UL and DL; all fields are mandatory */
    EUTRA_RAT_Type              RAT,                            /* FDD or TDD; FDD/TDD specific parameters */
    PhysCellId                  PhysicalCellId,                 /* N(cell, ID): imported from core spec;
                                                                 * -> cell specific reference signals (non-MBSFN)
                                                                 * -> scrambling of all DL physical channels:
                                                                 * PBCH, PCFICH, PDCCH, PHICH and PDSCH (together with nRNTI) */
    CellIdentity                eNB_CellId optional,            /* Placeholder for Cell identity (28 bits): eNB (20bits) and cell identity (8bits).
                                                                 * The use of that field is for future usage and omit for the time being */
    integer                     EutraBand,                      /* NOTE:
                                                                 * in 3G there are overlapping bands therefore the band needs to be provided;
                                                                 * in EUTRA it is provided as well to be extendable in the future */
    CellTimingInfo_Type         CellTimingInfo
  };
  
  // ***** RAT types: FDD, TDD, HalfDuplexFDD
  type Null_Type EUTRA_FDD_Info_Type;                           /* no further parameters defined for FDD */

  type record EUTRA_TDD_Info_Type {
    TDD_Config_Type             Configuration                   /* TDD_Config acc. to RRC ASN.1 (acc. TS 36.331, clause 6.3.2 ) */
  };

  type record EUTRA_HalfDuplexFDD_Info_Type {
    /* NOTE: No specific elements required
     * When UE is FDD Type B Half-Duplex
     * SS shall restrict non-explicitly scheduled UL data transmission in subframe 2 and DL transmission in subframe 8. This results in
     * UL HARQ feedback in subframe 2, DL HARQ feedback in subframe 6, UL grant allocation in subframe 8.
     * SS shall obey explicit scheduling.
     */
  };

  type union EUTRA_RAT_Type {
    /* specifies RAT type and frame structure (TS 36.211, clause 4) */
    EUTRA_FDD_Info_Type                 FDD,
    EUTRA_TDD_Info_Type                 TDD,
    EUTRA_HalfDuplexFDD_Info_Type       HalfDuplexFDD
  };

  //--------------------------------------------------------
  
  type record DownlinkStaticCellInfo_Type {     /* DL Static Info */
    integer                     Earfcn,                         /* DL-EARFCN as defined in TS 36.101 */
    Dl_Bandwidth_Type           Bandwidth,                      /* N(DL, RB) = 6..110 (6, 15, 25, 50, 75, 100) */
    EUTRA_RBSize_Type           RBSize,                         /* may be skipped assuming normal sub-carrier spacing => N(RB, SC) = 12 */
    EUTRA_CyclicPrefix_Type     CyclicPrefix
  };
  
  //--------------------------------------------------------
  
  type record UplinkStaticCellInfo_Type {       /* UL Static Info */
    integer                     Earfcn,                         /* UL-EARFCN as defined in TS 36.101 */
    Ul_Bandwidth_Type           Bandwidth,                      /* N(DL, RB) = 6..110 (6, 15, 25, 50, 75, 100) */
    EUTRA_CyclicPrefix_Type     CyclicPrefix
  }
  
  //----------------------------------------------------------------------------
  // Common Types
  type enumerated EUTRA_RBSize_Type       {n_RB_SC_12, n_RB_SC_24};             /* Resource Block Size in freq domain;
                                                                                   N(RB,SC) is 12 for normal sub-carrier spacing */
  type enumerated Modulation_Type         {unused, qpsk, qam16, qam64};         /* 'unused' e.g. for 2nd codeword when there is no spatial multiplexing */
  
  type integer CfiValue_Type            (1..3);
  
  

  
  type record ToRS_EPRE_Ratios_Type  {                  /* RA and RB ratios according to see TS 36.213, clause 5.2 */
    ToRS_EPRE_Ratio_Type        RA      optional,
    ToRS_EPRE_Ratio_Type        RB      optional
  };
  
  type record UE_CategoryInfo_Type {
    UE_Category_Type            ue_Category,
    UE_Category_v1020_Type      ue_Category_V1020 optional,
    UE_Category_v1170_Type      ue_Category_v1170 optional,
    UE_Category_v11a0_Type      ue_Category_v11a0 optional,
    UE_Category_v1250_Type      ue_Category_v1250 optional,     /* If UE category is 0 then
                                                                 * 1. SS shall forward UL CCCH SDU only when indicated with LCHID '01011'B.
                                                                 * 2. SS shall restrict DL UE-dedicated MAC TBS to 1000. */
    UE_CategoryDL_r12_Type      ue_CategoryDL_r12 optional,
    UE_CategoryDL_v1260_Type    ue_CategoryDL_v1260 optional,
    UE_CategoryDL_v1310_Type    ue_CategoryDL_v1310 optional,
    UE_CategoryDL_v1330_Type    ue_CategoryDL_v1330 optional,
    UE_CategoryDL_v1350_Type    ue_CategoryDL_v1350 optional,
    UE_CategoryDL_v1450_Type    ue_CategoryDL_v1450 optional,
    UE_CategoryDL_v1460_Type    ue_CategoryDL_v1460 optional
    };

  } // End sub-group Cell_Configuration_Common
  
  //----------------------------------------------------------------------------
  
  group Downlink_Physical_Layer_Configuration {
  /* Downlink physical layer configuration:
     - DL antenna configuration
     - control region (PCFICH, PHICH, PDCCH)
     - primary/secondary sync signals
     - power control for physical channels and signals */
  
  //----------------------------------------------------------------------------
  
  group Antenna_Configuration {
  
  type integer AntennaPortId_Type (0, 1, 2, 3, 4, 5, 6, 7, 8);  /* Antenna port 0..3: Cell specific reference signals
                                                                   Antenna port 4:    MBSFN reference signals
                                                                   Antenna port 5:    UE specific reference signals
                                                                   Antenna port 6:    Positioning reference signals
                                                                   Antenna port 7:    UE specific reference signals for dual layer beamforming
                                                                   Antenna port 8:    UE specific reference signals for dual layer beamforming
                                                                   (Antenna ports in DL acc. to 36.211 cl. 6.2.1) */
  type record AntennaPortInfo_Type {
    /* NOTE:
     * for conformance tests it may not be necessary to consider propagation pathes for different antennas;
     * => fields of AntennaPortInfo_Type are used as place holders for future usage and are of 'Dummy_Type' for the time being */
    Dummy_Type                  PowerAttenuation,       /* even though eNb shall send with the same power on all antennas at the UE there may be different signal strength
                                                         * => RS will have reduced power
                                                         * NOTE: the EPRE ratios (e.g. PDSCH-to-RS ratio) are assumed to be equal for all antennas */
    Dummy_Type                  PropagationDelay        /* signal from different antennas may have different propagation delay */
  };
  
  
  type union AntennaPortConfig_Type {
    AntennaPortInfo_Type        AddOrReconfigure,       /* add / re-configure antenna port */
    Null_Type                   Release                 /* release antenna port */
  };
  
  type record AntennaPort_Type {
    AntennaPortId_Type          Id,
    AntennaPortConfig_Type      Config
  };
  
  type record DownlinkAntennaGroupConfig_Type {
    AntennaInfoCommon_Type      AntennaInfoCommon,       /* acc. to TS 36.331, clause 6.3.2; contains antennaPortsCount = an1, an2, an4;
                                                          * static parameter; will (normally) not be modified whilst a test;
                                                          * NOTE:
                                                          * information is redundant since number of antenna ports may implicitly be determined by the number of ports being configured */
    record length (1..4) of
      AntennaPort_Type          AntennaPort              /* 1, 2 or 4 antennas;
                                                          * from the UE's point of view each antenna may have a different power level and a different propagation delay */
  };
  
  } // End sub-sub-group Antenna_Configuration
  
  //----------------------------------------------------------------------------
  
  group Physical_Channels {
  
  //****** PBCH
  type record PbchConfig_Type {
    ToRS_EPRE_Ratios_Type       RelativeTxPower       optional  /* power ratio for PBCH's resource elements relative to the RS */
  };
  
  //****** PFICH
  type record PcfichConfig_Type {
    CfiValue_Type               CfiValue              optional, /* control format indicator signalled on PCFICH */
    ToRS_EPRE_Ratios_Type       RelativeTxPower       optional  /* power ratio for PFCICH's resource elements relative to the RS */
  };
  
  //****** PHICH
  type record PhichConfig_Type {
    PHICH_Config_Type           PhichConfig           optional, /* parameters acc. TS 36.331, clause 6.3.2:
                                                                 * phich-Duration, phich-Resource;
                                                                 * may have impact on Cfi */
    ToRS_EPRE_Ratios_Type       RelativeTxPower       optional  /* power ratio for PHICH's resource elements relative to the RS */
  };
  
  //****** PDCCH
  type record CCE_StartIndex_DL_UL_Type {  /* CCE_St_Ind' or CCE_St_Ind'' acc. to table 7.1.1-1 in TS 36.523-3 */
    integer CCE_StartIndex_DL,
    integer CCE_StartIndex_UL
  };
  
  type record length(10) of CCE_StartIndex_DL_UL_Type CCE_StartIndexList_Type;   /* describes PDCCH candidates for all sub-frames */
  
  type record PdcchCandidate_Type {             /* CCE start indeces for a given RNTI value acc. to table 7.1.1-1 in TS 36.523-3 */
    C_RNTI                      RNTI,                           /* RNTI value as per table 7.1.1-1 */
    CCE_StartIndexList_Type     CCE_StartIndexList              /* CCE Start Indices corresponding to the RNTI */
  };
  
  type record of PdcchCandidate_Type PdcchCandidateList_Type;   /* list of RNTIs and their corresponding CCE Start Indices */
  
  type record PdcchConfig_Type {
    /* UE performs blind detection for common and UE specific search spaces for different aggregation levels (PDCCH formats acc. TS 36.211, clause 6.8.1) */
    /* content of the PDCCHs (DCI formats acc. TS 36.212, clause 5.3.3) shall be controlled together with scheduling and resource allocation */
    integer CommonSearchSpaceFormat (2, 3)            optional, /* PDCCH format for common search space;
                                                                   acc. to TS 36.213, clause 9.1.1 only aggregation level 4 and 8 are allowed (i.e. PDCCH format 2 and 3*/
    integer UeSpecificSearchSpaceFormat (0, 1, 2, 3)  optional, /* UE specific search space: corresponding aggregation levels 1, 2, 4, 8 */
    PdcchCandidateList_Type     PdcchCandidateList    optional, /* PDCCH candidate list acc. to table 7.1.1-1 in TS 36.523-3 */
    ToRS_EPRE_Ratios_Type       RelativeTxPower       optional  /* power ratio for PDCCH's resource elements relative to the RS */
  };
  
  //****** PDSCH
  type record PdschRelativeTxPower_Type {
    /* NOTE 1:
     * the power control for the PDSCH is assumed to be (semi-)static for signalling conformance tests acc. to TS 36.323;
     * nevertheless for different channels and purposes with the PDSCH there may be different power settings;
     * NOTE 2:
     * acc. to TS 36.213, clause 5.2 the EPRE ratio is different in time domain for OFDM symbols containing or not containing reference signals;
     * this needs to be considered by SS */
    ToRS_EPRE_Ratios_Type       RachResponse          optional,
    ToRS_EPRE_Ratios_Type       BcchOnPdsch           optional,
    ToRS_EPRE_Ratios_Type       PcchOnPdsch           optional,
    ToRS_EPRE_Ratios_Type       CcchOnPdsch           optional,
    ToRS_EPRE_Ratios_Type       DcchDtchOnPdsch       optional,
    ToRS_EPRE_Ratios_Type       OcngOnPdsch           optional  /* the power offset used for modeling allocations to virtual UE's (different from the UE under test) */
  };

  type record PdschConfig_Type {
    PdschRelativeTxPower_Type   RelativeTxPower       optional,
    PDSCH_ConfigCommon_v1310    PDSCH_ConfigCommon    optional
  };

  type record EpdcchConfig_Type {
    ToRS_EPRE_Ratios_Type       RelativeTxPower       optional, /* power ratio for ePDCCH's/MPDCCH(if configured) resource elements relative to the RS */
    PdcchCandidateList_Type     ePdcchCandidateList   optional, /* ePDCCH candidate list acc. to tables in TS 36.523-3 clause 7.1.2 */
                                                                /* MPDCCH candidates are as per 36.523-3 clause 7.1.3 */
    EPDCCH_Config_r11           EPDCCH_Config         optional, /* If present with choice 'setup' SS starts using ePDCCH in subframes reserved for ePDCCH for UL/DL grant transmission on C-RNTI/SPS-RNTI and PDCCH in non reserved sub framesor  MPDCCH (if present) in all sub frames when using DCI formats 6-xx
                                                                 * If present with choice 'release' SS releases ePDCCH/MPDCCH  configuration and uses PDCCH for UL/DL grant transmission in all sub frames
                                                                 * 'omit' is no change from previous configuration */
    FreqHoppingParameters_r13   mPDCCH_FreqHoppingParameters_r13 optional /* Provides frequency hopping parameters for MPDCCH/PDSCH/PUSCH/PUSCH. It is optional present conditional to MPDCCH is configured in EPDCCH_Config otherwise it shall not be present. */
  };

  
  } // End sub-sub-group Physical_Channels
  
  //----------------------------------------------------------------------------
  
  group Physical_Signals {
  
  type record PrimarySyncSignal_Type {
    ToRS_EPRE_Ratios_Type       RelativeTxPower       optional  /* power ratio for PSS's resource elements relative to the RS */
  };
  
  type record SecondarySyncSignal_Type {
    ToRS_EPRE_Ratios_Type       RelativeTxPower       optional  /* power ratio for SSS's resource elements relative to the RS */
  };
  
  type record CSI_ReferenceSIgnal_Type {                        /* CSI (Channel-State Information) reference signal configuration
                                                                 * Note: there is no additional RelativeTXPower as p-C-r10 acc. to 36.213 cl. 7.2.5  Pc is the assumed ratio of PDSCH EPRE to CSI-RS EPRE. */
    CSI_RS_Config_Type          CSI_RS_Config
  };
  
  type record SRS_UL_Config_Type {
    SoundingRS_UL_ConfigCommon_Type     Common,
    SoundingRS_UL_ConfigDedicated_Type  Dedicated
  };
  
  type record CSI_RS_Config_Type {
    CSI_RS_Config_r10                   CSI_RS_Config                       optional, /* The IE is used for TM1-9*/
    CSI_RS_ConfigNZPToAddModList_r11    CSI_RS_ConfigNZPToAddModList        optional, /* The IE is to configure the non-zero power CSI-RS resource configuration */
    CSI_RS_ConfigNZPToReleaseList_r11   CSI_RS_ConfigNZPToReleaseModList    optional, /* The IE is to release the non-zero power CSI-RS resource configuration */
    CSI_RS_ConfigZPToAddModList_r11     CSI_RS_ConfigZPToAddModList         optional, /* The IE is to configure the zero power CSI-RS resource configuration */
    CSI_RS_ConfigZPToReleaseList_r11    CSI_RS_ConfigZPToReleaseModList     optional,  /* The IE is to release the zero power CSI-RS resource configuration */
    ToRS_EPRE_Ratios_Type               RelativeTxPower                     optional  /* power ratio for CSI-RS resource elements relative to the CRS */
  };

  type record DS_RS_Config_Type {
    /* These IE's are to simulate the discovery of partial off cell as per 36.300 clause 16.1.10. The SS shall transmit discovery signals only in the timing enabled by the IE's DMTC_PeriodOffset and DS_OccasionDuration. The SS shall stop transmitting discovery signal in other periods in the cell. Other signals and scheduled transmissions (like SysInfo) are not restricted. */
    DMTC_PeriodOffset_r12_Type           DMTC_PeriodOffset            optional, /* Indicates the discovery signals measurement timing configuration (DMTC) periodicity (dmtc-Periodicity) and offset (dmtc-Offset) */
    DS_OccasionDuration_r12_Type         DS_OccasionDuration_r12      optional /* Indicates the duration of discovery signal occasion */
  };

  } // End sub-sub-group Physical_Signals
  
  //----------------------------------------------------------------------------
  
  type record PhysicalLayerConfigDL_Type {
    /* all fields are declared as optional to allow single reconfigurations; in this case omit means "keep as it is" */
    DownlinkAntennaGroupConfig_Type     AntennaGroup  optional,
    PbchConfig_Type                     Pbch          optional,
    PcfichConfig_Type                   Pcfich        optional,
    PhichConfig_Type                    Phich         optional,
    PdcchConfig_Type                    Pdcch         optional,
    PdschConfig_Type                    Pdsch         optional,
    PrimarySyncSignal_Type              Pss           optional,
    SecondarySyncSignal_Type            Sss           optional,
    CSI_RS_Config_Type                  CSI_RS_Config optional,
    PmchConfig_Type                     Pmch          optional,  /* Same power offset for all PMCH carrying MCCH or MTCH */
    EpdcchConfig_Type                   Epdcch        optional,
    DS_RS_Config_Type                   DS_RS_Config  optional
  };
  
  } // End sub-group Downlink_Physical_Layer_Configuration
  
  //----------------------------------------------------------------------------
  
  group Uplink_Physical_Layer_Configuration {
  // Uplink physical channel configuration: PRACH, PUCCH, PUSCH and UL RS
  
  type record PUCCH_Configuration_Type {
    PUCCH_ConfigCommon_Type     Common              optional,
    PUCCH_ConfigDedicated_Type  Dedicated           optional
  };
  
  type record PUSCH_Configuration_Type {
    PUSCH_ConfigCommon_Type     Common              optional,
    PUSCH_ConfigDedicated_Type  Dedicated           optional
  };
  
  type record PhysicalLayerConfigUL_Type {
    /* NOTE:
     * For the time being there is no requirement to configure the SS with TPC-PDCCH-Config;
     * In general SS is required to keep the UE's UL power constant */
    PRACH_Config_Type           Prach               optional, /* parameters acc. TS 36.331, clause 6.3.2;
                                                               * in general depending on FDD/TDD (see TS 36.211, clause 5.7) */
    PUCCH_Configuration_Type    Pucch               optional, /* parameters acc. TS 36.331, clause 6.3.2 */
    PUSCH_Configuration_Type    Pusch               optional, /* parameters acc. TS 36.331, clause 6.3.2
                                                               * (including configuration of RS) */
    SS_TimingAdvanceConfig_Type TimingAdvance       optional, /* to adjust timing advance;
                                                               * normally timing advance is configured as 0 at the beginning and never changed during the test case;
                                                               * in some MAC test cases timing advance may be configured to a non-zero (11 bit value) at the beginning and modified by (6 bit) timing advance commands during the test */
    SRS_UL_Config_Type          SRS_UL_Config       optional, /* sounding reference symbol (SRS); -> TS 36.213, clause 8.2, TS 36.211, clause 5.5.3 */
    SchedulingRequestConfig_Type  SR_Config         optional, /* PUCCH resources for scheduling requests acc. to TS 36.213 table 10.15;
                                                               * as signalled to the UE acc. to TS 36.331, clause 6.3.2 */
    CQI_ReportConfig_Type       CQI_ReportConfig    optional,
    
    UplinkPowerControlCommon_Type    UplinkPowerControlCommon        optional,
    UplinkPowerControlDedicated_Type UplinkPowerControlDedicated     optional
  };
  
  } // End sub-group Uplink_Physical_Layer_Configuration
  
  //----------------------------------------------------------------------------

  group Common_MAC_Configuration {
  /* Transport channel and MAC related procedures and configuration */
  
  //----------------------------------------------------------------------------
  // common types
  
  type record length (1..28) of RedundancyVersion_Type  RedundancyVersionListDL_Type;   /* NOTE:
                                                                                         * in general the list shall contain maxHARQ-Tx elements;
                                                                                         * if there are not enough elements specified SS shall raise an error;
                                                                                         * per default the list is configured to 0,2,3,1,0 (TS 36.321, clause 5.4.2.2) */
  
  type union UL_TransRetransmission_Type {
    Null_Type NewTransmission,                          /* new transmission of data with redundancy version RV=0 (acc. to TS 36.321 clause 5.4.2.2); NDI is toggled */
    RedundancyVersion_Type ReTransmissionAdaptive,      /* SS assigns grant to request retransmission of data with given redundancy version; NDI is not toggled */
    Null_Type ReTransmissionNonAdaptive,                /* non-adaptive retransmission; SS does not send any grant; SS shall use redundancy version acc. to sequence in TS 36.321 clause 5.4.2.2 */
    Null_Type ReTransmissionNonAdaptiveFixedRV,         /* non-adaptive retransmission; SS does not send any grant; SS shall use redundancy version RV=0 */
    RetransmissionAsynchronous_Type RetransmissionAsynchronous /* Used to schedule time controlled asynchronous UL grant for BL/CE UEs */
  };
 
  type record RetransmissionAsynchronous_Type {
    RedundancyVersion_Type    RedundencyVer,            /* SS assigns grant to request retransmission of data with given redundancy version; NDI is not toggled */
    integer                   SubframeOffset,            /* the subframe offset since previous grant in the list, shall include all repetitions */
    RepetitionNumber_Type     RepetitionNumber,
    DCISubframeRepetitionNumber_Type    DCISubframeRepetitionNumber
  };
  
  type record length (1..28) of UL_TransRetransmission_Type UL_TransRetransmissionList_Type; /* list of transmission and subsequent retransmissions:
                                                                                              * in UL retransmissions are synchronous (every 8 TTIs for FDD);
                                                                                              * independent from the HARQ_ModeList SS shall send grants for every adaptive retransmissions;
                                                                                              * in case of non-adaptive retransmissions SS simply does not sent a grant (i.e. ReTransmissionNonAdaptive elements are used to adjust timing of the adaptive retransmissions only) */

  type integer ImcsValue_Type (0..31);                  /* Modulation and coding scheme index coding */
  type union Imcs_Type {
    ImcsValue_Type Value,
    Null_Type      NotUsed
  };
  
  type record FreqDomainSchedulCommon_Type {
    /* common type to specify restrictions for frequency domain scheduling by a start index and a maximum range of RBs;
     * in general the resource allocation refers to virtual resource blocks:
     * - format 1A (localised):
     *   FirstRbIndex refers to the first physical RB; the RBs are subsequent (upto MaxRbCnt RBs);
     *   may be applied for all kind of channels
     * - format 1C (distributed):
     *   FirstRbIndex refers to the first virtual RB; the virtual RBs are subsequent (upto MaxRbCnt RBs)
     *   but mapped (distributed) to physical resource; typically applied on BCCH, PCCH and RAR
     * - format 1  (localised):
     *   FirstRbIndex refers to the first physical RB; RBs are not consecutive;
     *   SS needs to provided bitmap of RBs (see TS 36.523-3) to cope with mapping of virtual resource allocation (format 1C) applied on other channels;
     * typically there are either
     * - all channels having format 1A (localised)
     * - BCCH, PCCH and RAR having format 1C (distributed) + DTCH/DCCH having format 1 */
    integer FirstRbIndex,                               /* index of the first (vitual) resource block in frequency domain;
                                                         * 0 .. N(UL/DL, RB) - 1;
                                                         * NOTE:
                                                         * DCI format 1C refers to a virtual RB allocation i.e. the resource block index;
                                                         * differs from the physical resource allocation
                                                         * where the RBs are distributed over the whole frequency bandwidth (TS 36.213, clause 7.1.6.3) */
    integer MaxRbCnt                                    /* max. number of resource blocks to be assigned;
                                                         * FirstRbIndex + MaxRbCnt  <= N(UL/DL, RB);
                                                         * SS shall not assigned more than the given resource blocks to the respective channel
                                                         * (i.e. MaxRbCnt is the upper bound);
                                                         * if the the configuration for a channel exceeds the total bandwidth this is a TTCN error
                                                         * (=> SS shall raise an error) */
  };
  
  type record FreqDomainSchedulExplicit_Type {
    /* type used for explicit DL scheduling; Nprb is the exact number of RBs whereas in FreqDomainSchedulCommon_Type MaxRbCnt is the upper bound */
    integer FirstRbIndex,                               /* index of the first resource block in frequency domain;
                                                         * 0 .. N(UL/DL, RB) - 1 */
    integer Nprb                                        /* number of resource blocks to be assigned;  */
  };
  
  type enumerated PdcchDciFormat_Type {                 /* DCI format acc. to TS 36.212, clause 5.3.3.1;
                                                         * SS shall apply physical parameters accordingly as specified in TS 36.508, clause 4.3.6 */
    dci_0,      /* physical layer parameters acc. TS 36.508 Table 4.3.6.1.1-1 */
    dci_0A,      /* physical layer parameters acc. TS 36.508 Table 4.3.6.1.1B-1 */
    dci_0B,      /* physical layer parameters acc. TS 36.508 Table 4.3.6.1.1C-1 */
    dci_1,      /* physical layer parameters acc. TS 36.508 Table 4.3.6.1.2-1 */
    dci_1A,     /* physical layer parameters acc. TS 36.508 Table 4.3.6.1.3-1 */
    dci_1B,
    dci_1C,     /* physical layer parameters acc. TS 36.508 Table 4.3.6.1.4-1 */
    dci_1D,
    dci_2,      /* physical layer parameters acc. TS 36.508 Table 4.3.6.1.5-1 */
    dci_2A,     /* physical layer parameters acc. TS 36.508 Table 4.3.6.1.6-1 */
    dci_2B,
    dci_2C,
    dci_2D,
    dci_3,
    dci_3A,
    dci_4,
    dci_4A,
    dci_4B,
    dci_6_0A,    /* DCI format 6-0A is used for the scheduling of PUSCH in one UL cell */
    dci_6_0B,    /* DCI format 6-0B is used for the scheduling of PUSCH in one UL cell */
    dci_6_1A,   /* DCI format 6-1A is used for the compact scheduling of one PDSCH codeword in one cell and random access procedure initiated by a PDCCH order. The DCI corresponding to a PDCCH order can be carried by MPDCCH */
    dci_6_1B,  /* DCI format 6-1B is used for the scheduling of one PDSCH codeword in one cell */
    dci_6_2   /*  DCI format 6-2 is used for for paging and direct indication */
  };
  
  type enumerated PdcchResourceAllocation_Type {        /* Resource allocation acc. TS 36.213, clause 7.1.6 */
    ra_0,
    ra_1,
    ra_2_Localised,                                     /* => physical and virtual RB index are identical */
    ra_2_Distributed,                                    /* => virtual resource allocation */
    ra_Unspecified                                       /* => None of above resource allocations and as specified by DCI format in 36.211. For example used f0r DCI 6_1B */
  };
  
  type union MIMO_PrecodingBits_Type {                  /* Number of bits for precoding information acc. TS 36.212, table 5.3.3.1.5-3 and 5.3.3.1.5A-1 */
    Null_Type           None,                           /* DCI 2A: 2 antenna ports at eNodeB (table 5.3.3.1.5A-1) */
    B2_Type             Bit2,                           /* DCI 2A: 4 antenna ports at eNodeB (table 5.3.3.1.5A-1) */
    B3_Type             Bit3,                           /* DCI 2:  2 antenna ports at eNodeB (table 5.3.3.1.5-3) */
    B6_Type             Bit6                            /* DCI 2:  4 antenna ports at eNodeB (table 5.3.3.1.5-3) */
  };
  
  type record MIMO_DciDlInfo_Type {                             /* additional information for DL DCI in case of MIMO (i.e. when a 2nd CW is specified) */
    RedundancyVersionListDL_Type        RedundancyVersionList_2ndCW optional,   /* list of Redundancy version for 2nd code word;
                                                                                 * shall have the same length as RedundancyVersionList_1stCW;
                                                                                 * if omit, for the 2nd CW the same RedundancyVersionList shall be applied as for the 1st CW */
    B1_Type                             CodeWordSwapFlag,       /* transport block to codeword mapping acc. to TS 36.212 Table 5.3.3.1.5-1 */
    MIMO_PrecodingBits_Type             PrecodingBits           /* precoding information acc. TS 36.212, table 5.3.3.1.5-3 and 5.3.3.1.5A-1 */
  };
  
  type integer RepetitionNumber_Type (0..7); /* DCI Format 6-0A, value 0..3 as per 36.213 table 8.2b
                                                DCI Format 6-0B, value 0..7 as per 36.213 table 8.2c
                                                DCI Format 6-1A, value 0..3 as per 36.213 table 7.1.11-1
                                                DCI Format 6-1B, 6_2, value 0..7 as per 36.213 table 7.1.11-2 */
  type integer DCISubframeRepetitionNumber_Type (0..3); /* 36.213 clause as defined in section 9.1.5 */
  
  type union NumSchedSubframes_Type {
    B1_Type  MaxTwoSubframes, /* when maxNumberOfSchedSubframes-Format0B/4B-r14 is configured by higher layers to two */
    B2_Type  MaxFourSubframes /* otherwise */
  };

  
  type record DciDlInfoCommon_Type {
    /* used for normal DL scheduling acc. to TS 36.523-3, clause 7.3 */
    PdcchDciFormat_Type                 Format,                 /* BCCH, PCCH and RACH Response:  1A or 1C  (TS 36.213, clause 7.1)
                                                                 * CCCH: 1A since transmission mode is not (may not be) configured at the UE yet (TS 36.213, clause 7.1)
                                                                 * DTCH/DCCH: depending on transmission mode */
    PdcchResourceAllocation_Type        ResourceAllocType,      /* depends on DCI format, e.g. ra_2_Localised or
                                                                 * ra_2_Distributed for DCI format 1A */
    Modulation_Type                     Modulation_1stCW,       /* max. modulation scheme for the 1st code word;
                                                                 * depending on the amount of data a lower modulation scheme may be by SS but not a higher one;
                                                                 * BCCH, PCCH and RACH Response: QPSK only */
    Modulation_Type                     Modulation_2ndCW,       /* modulation scheme for 2nd code word in case of spatial multiplexing;
                                                                 * can be different than 1st code word (see TS 36.211, clause 6.3.2; TS 36.212, clause 5.3.3.1.5);
                                                                 * 'unused' when there is no spatial multiplexing;
                                                                 * NOTE:
                                                                 * Acc. to 36.523-3 cl. 7.3.3.4 in normal mode MIMO shall not be used
                                                                 * => for the time being Modulation_2ndCW is always "unused" */
    FreqDomainSchedulCommon_Type        FreqDomainSchedul,      /* index of 1st RB; max. number of RBs per TTI;
                                                                 * NOTE:
                                                                 * in case of DCI format 1C the first RB index has no meaning since distributed virtual resource blocks assigned in this case (TS 36.213, clause 7.1.6.3)
                                                                 * NOTE: For DCI formats used for BL/CE UEs i.e DCIs 6_X, this IE identifies the Narrow band of 6 PRBs */
    RedundancyVersionListDL_Type        RedundancyVersionList,  /* list of Redundancy version to be used in case of retransmission;
                                                                 * the number of elements in the list provides the maxHARQ-Tx */
    RepetitionNumber_Type               RepetitionNumber   optional, /*used only for DCI format 6_X for BL/CE UEs */
    DCISubframeRepetitionNumber_Type    DCISubframeRepetitionNumber optional /*used only for DCI format 6_X for BL/CE UEs*/
  };

  type record DciDlInfoExplicit_Type {
    /* used for explicit DL scheduling acc. to TS 36.523-3, clause 7.3 */
    Imcs_Type                           Imcs_1stCW,             /* MCS index of table 7.1.7.1-1 of TS 36.213 */
    Imcs_Type                           Imcs_2ndCW,             /* MCS index for the 2nd code word in case of MIMO;
                                                                   'NotUsed' when MIMO is not used */
    PdcchDciFormat_Type                 Format,
    PdcchResourceAllocation_Type        ResourceAllocType,
    FreqDomainSchedulExplicit_Type      FreqDomainSchedul,      /* For DCI formats used for BL/CE UEs i.e DCIs 6_X, this IE identifies the resources in Narrow band of 6 PRBs */
    RedundancyVersionListDL_Type        RedundancyVersionList,  /* list of Redundancy version to be used in case of retransmission the number of elements in the list provides the maxHARQ-Tx */
    MIMO_DciDlInfo_Type                 MimoInfo optional,       /* shall be present when Imcs_2ndCW specifies a 2nd CW to be used;
                                                                 * shall be omit when Imcs_2ndCW is 'NotUsed' */
    RepetitionNumber_Type               RepetitionNumber   optional, /* used only for DCI format 6_X for BL/CE UEs */
    DCISubframeRepetitionNumber_Type    DCISubframeRepetitionNumber optional /*used only for DCI format 6_X for BL/CE UEs*/
  };

  type union DciDlInfo_Type {
    DciDlInfoCommon_Type                Auto,                   /* SS shall chose the appropriate TBS up to the maximum number of resource blocks */
    DciDlInfoExplicit_Type              Explicit                /* used in MAC or RAB tests where exact TBS needs to be specified */
  };

  type record DciUlInfo_Type {
    Imcs_Type                           Imcs,                   /* MCS index of table 8.6.1-1 of TS 36.213 */
    UL_TransRetransmissionList_Type     TransRetransmissionList,/* list of possible retransmissions and their redundancy versions (depending on being adapive or non-adaptive);
                                                                 * the list shall
                                                                 * - start with
                                                                 *   - "New Transmission" (normal case) or
                                                                 *   - "Adaptive Retransmission" (e.g. to request a retransmission even when the data has been acknowledged with a HARQ ACK)
                                                                 * - end with "Adaptive Retransmission" (if there are retransmissions)
                                                                 * NOTE1: TTCN implementation shall ensure that a reconfiguration is done not before the previous list has been fully processed
                                                                 * NOTE2: for normal operation the list contains only one NewTransmission element (i.e. possible retransmissions are non-adaptive) */
    FreqDomainSchedulExplicit_Type      FreqDomainSchedul,       /* For DCI formats used for BL/CE UEs i.e DCIs 6_0X, this IE identifies the resources in Narrow band of 6 PRBs */
    PdcchDciFormat_Type                 Format  optional,        /*  If omit, default DCI format 0 will be applied; for BL/CE UEs 6_0X shall be specified*/
    integer                             HarqProcessId optional, /* Can be present in DCI format is not 6_0X; If present SS Uses the specified HARQ process for all UL transmissions/retransmissions; */
    RepetitionNumber_Type               RepetitionNumber   optional, /* used only for DCI format 6_X for BL/CE UEs */
    DCISubframeRepetitionNumber_Type    DCISubframeRepetitionNumber optional, /*used only for DCI format 6_X for BL/CE UEs*/
    B1_Type                             PUSCH_TriggerA optional, /* used in DCI formats 0A/0B/4A/4B */
    B4_Type                             TimingOffset     optional,   /* used in DCI formats 0A/0B/4A/4B */
    NumSchedSubframes_Type              NumberOfScheduledSubframes  optional /* used in DCI formats 0B/4B */
  };

  } // End sub-group Common_MAC_Configuration

  //----------------------------------------------------------------------------

  group Random_Access_Procedure {

  type record UplinkGrant_Type {      /* TS 36.213, clause 6.2 */
    B1_Type     HoppingFlag,          /* Hopping flag */
    B10_Type    RB_Allocation,        /* Fixed size resource block assignment */
    B4_Type     ModAndCodScheme,      /* Truncated modulation and coding scheme */
    B3_Type     TPC_Command,          /* TPC command for scheduled PUSCH */
    B1_Type     UL_Delay,             /* UL delay */
    B1_Type     CQI_Req               /* CQI request */
  };
  type union CRNTI_ContentionResolutionCtrl_Type {              /* configuration for Random Access Procedure in RRC_CONNECTED (see TS 36.300, clause 10.1.5.1);
                                                                 * when SS receives C-RNTI MAC element sent by the UE after Random Access Response,
                                                                 * SS shall deal with the C-RNTI as specified in this structure */
    DciUlInfo_Type                            AutomaticGrant,   /* before expiry of the contention resolution timer SS shall automatically address PDCCH
                                                                 * using C-RNTI as sent by the UE; the UL grant is specified acc. to DciUlInfo_Type */
    Null_Type                                 None              /* Used in case of dedicated preamble transmission (Non-contention based random access procedure, see TS 36.300 clause 10.1.5.2) or
                                                                 * to simulate failure cases for contention based random access procedure;
                                                                 * SS shall not address PDCCH using C-RNTI
                                                                 * => in case of contention based random access procedure: expiry of contention resolution timer on UE side */
  };

  type union ContentionResolutionCtrl_Type {                    /* NOTE: SS only needs to consider one kind of contention resolution at one time;
                                                                 * in the initial configuration of a cell TCRNTI_Based shall be configured and
                                                                 * the common assuption is that in RRC_CONNECTED normally there are no RACH procedures
                                                                 * (i.e. no CRNTI_Based configuration needed)
                                                                 * whereas e.g. in case of handover scenarios CRNTI_Based shall be configured */
    TCRNTI_ContentionResolutionCtrl_Type      TCRNTI_Based,     /* TCRNTI based contention resolution (e.g. initial access),
                                                                 * hence involves inclusion contention resolution identity in DL message 4 of RACH procedure */
    CRNTI_ContentionResolutionCtrl_Type       CRNTI_Based       /* CRNTI based contention resolution (e.g. in case UE is being in RRC_CONNECTED) or non-contention based random access procedure:
                                                                 * in case of CRNTI based contention resolution the uplink message in step 3 (of RACH procedure) is followed by PDCCH transmission with UE C-RNTI to end procedure */
  };

  type record RandomAccessResponseParameters_Type {             /* paramenters to control content of RAR sent to the UE */
    RAR_RapIdCtrl_Type                  RapId,                  /* to control Random Access Preamble Id to be sent back to the UE; used in RAR MAC sub-header */
    UplinkGrant_Type                    InitialGrant,           /* initial UL grant; May be ignored if UplinkGrantCE_Mode_Type is configured */
    RACH_TimingAdvance_Type             TimingAdvance,          /* timing advance: granularity of 0.52 micro sec (16*Ts);
                                                                 * see TS 36.300, clause 5.2.7.3, TS 36.321, clause 6.1.3.5;
                                                                 * NOTE:
                                                                 * timing advance has impact not only on the RA procedure;
                                                                 * SS in general needs to adjust its timing accordingly */
    TempC_RNTI_Type                     TempC_RNTI,             /* NOTE:
                                                                 * For initial Random Access Procedure at network (SS) side there is no temporary C-RNTI:
                                                                 * network assigns the C-RNTI which is used by any UE as being temporary;
                                                                 * the UE which 'wins' the contention resolution keeps the (temporary) C-RNTI;
                                                                 * other UEs need to repeat the RACH procedure;
                                                                 * => at the SS the TempC_RNTI shall be 'SameAsC_RNTI'
                                                                 * For Random Access Procedure in RRC_CONNECTED state the NW assigns a temporary C-RNTI which is replaced by the one stored at the UE;
                                                                 * => TempC_RNTI may be 'SameAsC_RNTI' (in this case temp. C-RNTI and C-RNTI are equal what is not likely in a real network),
                                                                 * or there is an explicit temp. C-RNTI what is used during RA procedure only (as in a real network) */
    UplinkGrantCE_Mode_Type             InitialGrantCE_Mode optional /* used by SS based on PRACH coverage enhancement levels  */
  };
  
  type record of RandomAccessResponseParameters_Type RarList_Type;      /* in general MAC PDU may contain one or several RARs;
                                                                         * normally only one RAR is contained */
  
  type record UplinkGrantCE_ModeA_Type {        /* TS 36.213, clause 6.2 table 6-2 */
    B4_Type     Msg3_PUSCH_NB_Index,            /* Msg3 PUSCH narrowband index */
    B4_Type     Msg3_PUSCH_ResAllocation,       /* Msg3 PUSCH Resource allocation */
    B2_Type     Msg3_PUSCH_Repetitions,         /* Number of Repetitions for Msg3 PUSCH */
    B3_Type     MCS,
    B3_Type     TPC_Command,                    /* TPC command for scheduled PUSCH */
    B1_Type     CSI_Req,                        /* CSI request */
    B1_Type     UL_Delay,                       /* UL delay */
    B2_Type     Msg3_4_MPDCCH_NB_Index          /* Msg3/4 MPDCCH narrowband index */
  };
  
  type record UplinkGrantCE_ModeB_Type {      /* TS 36.213, clause 6.2 table 6-2 */
    B2_Type       Msg3_PUSCH_NB_Index,      // Msg3 PUSCH narrowband index
    B3_Type       Msg3_PUSCH_ResAllocation, // Msg3 PUSCH Resource allocation
    B3_Type       Msg3_PUSCH_Repetitions,      //Number of Repetitions for Msg3 PUSCH
    B2_Type       TBS,                       //TBS
    B2_Type       Msg3_4_MPDCCH_NB_Index  /* Msg3/4 MPDCCH narrowband index */
  };
  
  type record UplinkGrantCE_Mode_Type {
    UplinkGrantCE_ModeA_Type     CE_ModeA, /* If the most recent PRACH coverage enhancement level for the UE is 0 or 1, the contents of the Random Access Response Grant are interpreted according to CEModeA. */
    UplinkGrantCE_ModeB_Type     CE_ModeB /* If the most recent PRACH coverage enhancement level for the UE is 2 or 3, the contents of the Random Access Response Grant are interpreted according to CEModeB */
  };
  
  type union RandomAccessResponse_Type {
    Null_Type                           None,                   /* used for unsuccessful RA procedure */
    RarList_Type                        List                    /* normally one RAR to be sent to the UE; in general there can be more than one RAR */
  };
  
  type record RandomAccessResponseCtrl_Type {                   /* configuration for Random Access Response mapped to DL-SCH mapped to PDSCH */
    /* TransmissionMode: single antenna mode when there is only one antenna configured, transmit diversity else;
       RNTI: RA-RNTI (TS 36.321, clause 7.1);
       if both RAR msg and backoff indicator are 'None' SS shall not respond on random access preamble */
    DciDlInfoCommon_Type                DciInfo,                /* DCI format: 1A or 1C  (TS 36.213, clause 7.1)
                                                                 * ResourceAllocType: 2 (acc. to DCI format)
                                                                 * Modulation: QPSK
                                                                 * Frequency domain schedule: index of 1st RB; max. number of RBs per TTI */
    RandomAccessResponse_Type           Rar,                    /* RAR to be sent to the UE */
    RandomAccessBackoffIndicator_Type   BackoffInd              /* possible backoff indicator; 'None' for normal cases */
  };
  
  type union RandomAccessResponseConfig_Type {
    RandomAccessResponseCtrl_Type       Ctrl,                   /* contains information to control sending of RAR */
    RandomAccessResponseCtrl_Type       Ctrl_CRC_Error,         /* same as Ctrl (see above), but MAC PDU transmitted will contain CRC bits (0-3) being toggled;
                                                                 * no retransmissions shall be made as UE shall not send a NACK */
    Null_Type                           None                    /* to be used when there is no RAR to be sent at all */
  };
  
  type record RachProcedure_Type {
    RandomAccessResponseConfig_Type     RAResponse,             /* control of how the SS shall react on RA preamble;
                                                                 * this may be
                                                                 * - the RAP id as expected by the UE
                                                                 * - a RAP id not matching to the UE's RAP
                                                                 * - a backoff indicator
                                                                 * - nothing at all */
    ContentionResolutionCtrl_Type       ContentionResolutionCtrl
                                                                /* control of how the SS shall react on (first) scheduled transmission from UE:
                                                                 * 1. UE sends CCCH SDU => contention resulation based on contention resolution id
                                                                 * 1.a) successful contention resolution: contention resolution id matched to CCCH SDU
                                                                 * 1.b) unsuccessful contention resolution: contention resolution id  does not match
                                                                 * 2. UE sends C-RNTI => contention resolution based on C-RNTI
                                                                 * 2.a) successful contention resolution: SS addresses C-RNTI (e.g. UL-grant)
                                                                 * 2.b) unsuccessful contention resolution: SS does not address C-RNTI (timeout at UE) */
  };

  type record length(1..tsc_RandomAccessResponseListSize) of
    RachProcedure_Type RachProcedureList_Type;                  /* to simulate RACH procedure with one or more than one attempt by the UE:
                                                                 * There is one RachProcedure_Type in the list per PRACH Preamble attempt. When PRACH preamble is repeated within a Preamble attempt (BL/CE UE), the SS shall wait for all PRACH preamble repetitions before acting as per configured RAR.
                                                                 * The discrete set of RAPIDs to be used by UE in each CE level is provided in RACH_ConfigCommon->RACH_CE_LevelInfoList_r13 and the repetitions of preamble based on CE level is provided in PRACH_Config_v1310-> prach_ParametersListCE_r13. If UE is not repeating preambles as per its detected CE level the SS shall raises an error.
                                                                 * The same applies to contention resolution, one per RACH procedure Msg 3 transmission plus its repetitions.
                                                                 * 1. Normal cases:
                                                                 * one single RandomAccessResponse is sent to the UE matching the UE's RACH preamble;
                                                                 * contention resolution is successful immediately
                                                                 * => list contains only one element which is used for any RA procedure
                                                                 *    (Even if a RACH procedure is repeated by the UE for any reason this element shall be used;
                                                                 *    e.g. it needs not to be handled as error when the UE sends another RACH preamble instead of the RRC connection request message)
                                                                 * 2. Special cases:
                                                                 * there are upto tsc_RandomAccessResponseListSize preambles sent by the UE
                                                                 * => there are upto tsc_RandomAccessResponseListSize responses to be configured as elements of the list;
                                                                 * SS shall start with the first element in the list and use the RAR as specified in this element;
                                                                 * if the RAR matches at the UE side the UE will send UL data and contention resolution is performed as configured for this element;
                                                                 * if the RAR does not match the UE sends another RAP and SS continues with the next element in the list;
                                                                 * in this case the contention resolution of the respective element is not used;
                                                                 * if the end of the list is reached and further RACH preambles are sent by the UE SS shall repeatively apply the last element of the list
                                                                 * (this is necessary because there might be not enough time to reconfigure SS after the end of the list has been reached and there shall be well-defined behaviour after the list has been processed);
                                                                 *
                                                                 * to change from a special mode to normal mode the RachProcedureList is reconfigured by TTCN to achieve transparency and readability of the code;
                                                                 *
                                                                 *  NOTE:
                                                                 *  when there are RACH_ConfigDedicated configured (see below) and the RA preamble matches with one the configured ones the contention resolution ctrl is obsolete (non contention based random access procedure) */
  
  type record RachProcedureConfig_Type {
    /* parameters to control the random access procedure; TS 36.321, clause 5.1 */
    RACH_ConfigCommon_Type              RACH_ConfigCommon             optional, /* acc. TS 36.331, clause 6.3.2; may not be necessary for SS;
                                                                                 * omit: "keep as it is" */
    RACH_ConfigDedicated_Type           RACH_ConfigDedicated          optional, /* acc. TS 36.331, clause 6.3.2;
                                                                                 * when random access preamble sent by the UE matches with the configured one,
                                                                                 * SS shall assume the random access procedure being non-contention based;
                                                                                 * initial configuration: no RACH_ConfigDedicated are configured;
                                                                                 * omit means "keep as it is" */
    RachProcedureList_Type              RachProcedureList             optional  /* in normal cases there is one element which is used for any RA procedure;
                                                                                 * special cases are used in MAC test cases;
                                                                                 * omit means "keep as it is"
                                                                                 * If the cell is an Active Scell, the RACH procedure configuration in the Active Scell controls
                                                                                 * the RAR transmission in the associated Pcell, for received PRACH preamble in Scell
                                                                                 */
  };
  
  } // End sub-group Random_Access_Procedure
  
  //----------------------------------------------------------------------------
  
  group System_Information_Control {     /* Primitive to configuration BCCH/BCH */
  
  // ***** PBCH (MIB)
  type Null_Type BcchToPbchConfig_Type;                         /* place holder for BCCH mapped to BCH mapped to PBCH:
                                                                 * MIB using fixed scheduling (periodicity: 40ms);
                                                                 * transmission mode:
                                                                 * single antenna port configuration (layer mapping acc. TS 36.211, clause 6.3.3.1)
                                                                 * or transmit diversity (layer mapping acc. TS 36.211, clause 6.3.3.3) depending on antenna configuration */
  // ***** PDSCH (SIB1)
  type record Sib1Schedul_Type {                                /* SIB1: fixed scheduling in time domain acc. TS 36.331, clause 5.2.1.2 (periodicity: 80ms; repetitions every 20ms) */
    DciDlInfoCommon_Type        DciInfo               optional  /* DCI format: 1A or 1C  (TS 36.213, clause 7.1)
                                                                 * ResourceAllocType: 2 (acc. to DCI format)
                                                                 * Modulation: QPSK
                                                                 * Frequency domain schedule: index of 1st RB; max. number of RBs per TTI */
  };
  
  // ***** PDSCH (all other SIs)
  type record SingleSiSchedul_Type {                            /* specifies scheduling for a single SI in freq and time domain */
    DciDlInfoCommon_Type        DciInfo               optional, /* DCI format: 1A or 1C  (TS 36.213, clause 7.1)
                                                                 * ResourceAllocType: 2 (acc. to DCI format)
                                                                 * Modulation: QPSK
                                                                 * Frequency domain schedule: index of 1st RB; max. number of RBs per TTI */
    integer                     SubframeOffset        optional  /* offset within the SI-window;
                                                                 * NOTE: SI-window may span more than one frame */
  };
  
  type record SiSchedul_Type {                                  /* specifies for a specific SI scheduling and repetitions within an SI window */
    SiPeriodicity_Type          Periodicity           optional,
    record of
      SingleSiSchedul_Type      Window                optional  /* NOTE:
                                                                 * acc. to TS 36.331, clause 5.2.1.2 the same SI may occur more than once in an SI-window;
                                                                 * to allow this there is a "record of" even though acc. to TS 36.508, clause 4.4.3.3 all SIs are sent only once within the window */
  };
  
  type record length(1..maxSI_Message) of SiSchedul_Type SiSchedulList_Type;

  type record AllSiSchedul_Type {
    SiWindowLength_Type         WindowLength          optional, /* to calculate start of each SI window acc. TS 36.331, clause 5.2.3 */
    SiSchedulList_Type          SiList                optional, /* list of scheduling info for the SIs containing one ore more SIBs */
    SiSchedulList_Type          SegmentedSiList       optional  /* list of scheduling info for segmented SIs (e.g. SI containing SIB11);
                                                                 * corresponds to SegmentedSIs in BcchInfo_Type: SS shall subsequently schedule the elements of the corresponding SegmentedSIs (BcchInfo_Type);
                                                                 * e.g. SegmentedSiList[i] provided scheduling info for BcchInfo_Type's SegmentedSIs[i] and the kth element of SegmentedSIs[i] is sent at
                                                                 *     T0 + ((K * N) + k) * periodicity
                                                                 * with
                                                                 *     K: number for segments
                                                                 *     k = 0 .. K-1
                                                                 *     N = 0, 1, 2, ...
                                                                 *     T0, periodicity: scheduling info as given by SegmentedSiList[i] */
  };
  
  // ***** PDSCH (SIB1 + SIs)
  type record BcchToPdschConfig_Type {                          /* configuration for BCCH mapped to DL-SCH mapped to PDSCH */
    /* TransmissionMode: single antenna mode when there is only one antenna configured, transmit diversity else;
       RNTI: SI-RNTI (TS 36.321, clause 7.1) */
    Sib1Schedul_Type            Sib1Schedul           optional, /* scheduling of SIB1 in frequency domain */
    AllSiSchedul_Type           SiSchedul             optional  /* scheduling of SIs in frequency and time domain */
  };

  type record of BCCH_DL_SCH_Message SI_List_Type;              /* TS 36.331, clause 6.2.1 BCCH-DL-SCH-Message and clause 6.2.2 SystemInformation */
  type record of SI_List_Type SegmentedSI_List_Type;            /* Each element is a list of segments;
                                                                   used for SIB11/12 segmentation */
  
  // ***** content of system information
  type record BcchInfo_Type {
    /* all fields are declared as optional to allow modification of single field;
     * acc. to TS 36.331, clause 9.1.1.1 "RRC will perform padding, if required due to the granularity of the TF signalling, as defined in 8.5.";
     * therefore this needs to be done by the system simulator */
    BCCH_BCH_Message            MIB                   optional, /* TS 36.331, clause 6.2.1 BCCH-BCH-Message and clause 6.2.2 MasterInformationBlock;
                                                                 * NOTE:
                                                                 * the sequence number included in MIB needs to be handled and maintained by the system simulator;
                                                                 * that means that the sequence number being setup by TTCN will be overwritten by SS */
    BCCH_DL_SCH_Message         SIB1                  optional, /* TS 36.331, clause 6.2.1 BCCH-DL-SCH-Message and clause 6.2.2 SystemInformationBlockType1 */
    SI_List_Type                SIs                   optional, /* list of SIs corresponding to SiList of AllSiSchedul_Type
                                                                 * (i.e. element i of AllSiSchedul_Type's SiList specifies the scheduling for SIs[i]) */
    SegmentedSI_List_Type       SegmentedSIs          optional  /* list of SIs containing segmented SIBs;
                                                                 * corresponds to SegmentedSiList in AllSiSchedul_Type */
  };
  
  // ***** configuration for BCCH
  type record BcchConfig_Type {
    /* all fields are optional to allow single modifications;
     * activation time may be applied in the common part of the ASP;
     * NOTE 1:
     * acc. to TS 36.331, clause 9.1.1.1 there is no PDCP and RLC/MAC are in TM
     * NOTE 2:
     * mapping/scheduling and contents of the System Information in general is done in one go
     * (i.e. there are no separate ports for SIB data and configuration) */
    BcchToPbchConfig_Type       Pbch                  optional,
    BcchToPdschConfig_Type      Pdsch                 optional,
    BcchInfo_Type               BcchInfo              optional,
    Null_Type                   StopSib1Transmission  optional  /* if omitted:
                                                                 *   SS transmits SIB1 last provided in BcchInfo and associated DCI.
                                                                 *
                                                                 * if set:
                                                                 *   SS shall stop transmission of SIB1 and associated DCI.
                                                                 *
                                                                 * To resume SIB1 transmission, this flag shall be omitted and SIB1 shall be provided in BcchInfo.  */
  };
  
  type record Bcch_BRConfig_Type {
    /* all fields are optional to allow single modifications;
     * activation time may be applied in the common part of the ASP;
     * NOTE 1:
     * acc. to TS 36.331, clause 9.1.1.8 there is no PDCP and RLC/MAC are in TM
     * NOTE 2:
     * mapping/scheduling and contents of the System Information in general is done in one go
     * (i.e. there are no separate ports for SIB data and configuration) */
    Bcch_BRToPbchConfig_Type    Pbch                  optional,
    Bcch_BRToPdschConfig_Type   Pdsch                 optional,
    Bcch_BRInfo_Type            BcchInfo              optional,
    Null_Type                   StopSib1Transmission  optional  /* if omitted:
                                                                 *   SS transmits SIB1 last provided in BcchInfo and associated DCI.
                                                                 *
                                                                 * if set:
                                                                 *   SS shall stop transmission of SIB1 and associated DCI.
                                                                 *
                                                                 * To resume SIB1 transmission, this flag shall be omitted and SIB1 shall be provided in BcchInfo.  */
  };
  
  type record Bcch_BRToPbchConfig_Type {                         /* BCCH_BL mapped to BCH mapped to PBCH:
                                                                  * MIB using fixed scheduling (periodicity: 40ms);
                                                                  * transmission mode:
                                                                  * single antenna port configuration (layer mapping acc. TS 36.211, clause 6.3.3.1)
                                                                  * or transmit diversity (layer mapping acc. TS 36.211, clause 6.3.3.3) depending on antenna configuration */
    boolean    EnableMIB_Repetition  /* If true MIB transmission shall be repeated in subframe#9 of the previous radio frame for FDD and subframe #5 of the same radio frame for TDD */
  };
  
  type record of integer SI_SubframeOffsetList_Type;
  
  type record Bcch_BRToPdschConfig_Type { /* Configuration for BCCH_BR mapped to DL-SCH mapped to PDSCH */
    /* TransmissionMode: single antenna mode when there is only one antenna configured, transmit diversity else;
       RNTI: No RNTI as BR SIs are sent without DCI info and scheduling for SIB-1 is provided in MIB and for other SIBs in SIB 1*/
    Sib1_BRSchedul_Type                         Sib1_BRSchedul      optional,  /* scheduling of SIB1 in frequency & time domain  */
    BandwidthReducedAccessRelatedInfo_Type      SiSchedul           optional,  /* scheduling of SIs in frequency and time domain. SS shall ignore si-ValidityTime-r13 and systemInfoValueTagList-r13 and TTCN shall omit them.
                                                                                * SS shall restrict all non-explicitly scheduled DL transmissions (TimingInfo = now) respecting subframe restriction configured by
                                                                                * IE fdd-DownlinkOrTddSubframeBitmapBR-r13. SS shall allocate autonomous UL grants (not explicitly scheduled, eg. On SR reception) for
                                                                                * UL transmission respecting subframe restriction configured by IEs fdd-DownlinkOrTddSubframeBitmapBR-r13 & fdd-UplinkSubframeBitmapBR-r13.  */
    SI_SubframeOffsetList_Type                  SubframeOffsetList  optional   /* offset within the SI-window;
                                                                                * NOTE: SI-window may span more than one frame. There shall be 1 to 1 mapping with BandwidthReducedAccessRelatedInfo_Type.schedulingInfoList_BR_r13 elements
                                                                                */
  };
  
  type record Sib1_BRSchedul_Type {
    /* SIB1: fixed scheduling in time domain acc. TS 36.331, clause 5.2.1.2 (periodicity: 80ms)
     * For a BL/CE UE, the resource allocation for PDSCH carrying SystemInformationBlockType1-BR and SI messages is a set of six contiguously allocated localized virtual resource blocks within a narrowband . the Narrow band index used for a transmission is as per 36.211 clause 6.4.1
     */
    SchedulingInfoSIB1_BR_r13_Type    SchedulingInfoSIB1_BR_r13  /* TBS for SystemInformationBlockType1-BR and the repetitions made within 80ms as indicated in MIB */
  };
  type record of BCCH_DL_SCH_Message_BR BR_SI_List_Type;              /* TS 36.331, clause 6.2.1 BCCH-DL-SCH-Message-BR and clause 6.2.2 SystemInformation */
  type record of BR_SI_List_Type BR_SegmentedSI_List_Type;            /* Each element is a list of segments;
                                                                         used for SIB11/12 segmentation */
  type record Bcch_BRInfo_Type {
    /* all fields are declared as optional to allow modification of single field;
     * acc. to TS 36.331, clause 9.1.1.1 "RRC will perform padding, if required due to the granularity of the TF signalling, as defined in 8.5.";
     * therefore this needs to be done by the system simulator */
    BCCH_BCH_Message            MIB                   optional, /* The MIB shall not be present if transmission of MIB is configured by BcchInfo_Type.
                                                                 * TS 36.331, clause 6.2.1 BCCH-BCH-Message and clause 6.2.2 MasterInformationBlock;
                                                                 * NOTE:
                                                                 * the sequence number included in MIB needs to be handled and maintained by the system simulator;
                                                                 * that means that the sequence number being setup by TTCN will be overwritten by SS */
    BCCH_DL_SCH_Message_BR      SIB1                  optional, /* TS 36.331, clause 6.2.1 BCCH-DL-SCH-Message-BR and clause 6.2.2 SystemInformationBlockType1 */
    BR_SI_List_Type             SIs                   optional, /* list of SIs corresponding to SiList of AllSiSchedul_Type
                                                                 * (i.e. element i of AllSiSchedul_Type's SiList specifies the scheduling for SIs[i]) */
    BR_SegmentedSI_List_Type    SegmentedSIs          optional  /* list of SIs containing segmented SIBs;
                                                                 * corresponds to SegmentedSiList in AllSiSchedul_Type */
  };
  
  } // End sub-group System_Information_Control
  
  //----------------------------------------------------------------------------
  
  group Paging_Control {     /* Primitive to configuration PCCH/PCH */
  
  type record PcchConfig_Type {                                 /* configuration for PCCH mapped to PCH mapped to PDSCH */
    /* TransmissionMode: single antenna mode when there is only one antenna configured, transmit diversity else;
     * RNTI: P-RNTI (TS 36.321, clause 7.1)
     * NOTE: acc. to TS 36.331, clause 9.1.1.3 there is no PDCP and RLC/MAC are in TM */
    DciDlInfoCommon_Type        DciInfo               optional, /* DCI format: 1A or 1C  (TS 36.213, clause 7.1)
                                                                 * ResourceAllocType: 2 (acc. to DCI format)
                                                                 * Modulation: QPSK
                                                                 * Frequency domain schedule: index of 1st RB; max. number of RBs per TTI */
    PCCH_Config_v1310           PCCH_Config_v13       optional  /* provides MPDCCH repetition for PCCH etc */
  };
  
  } // End sub-group Paging_Control
  
  //----------------------------------------------------------------------------
  
  group UE_Specific_Channel_Configuration {
  
  group UE_Specific_Channel_Configuration_DL {  /* Scheduling and other information for CCCH/DCCH/DTCH mapped to DL-SCH mapped to PDSCH */
  
  //============================================================================
  
  type union HarqProcessConfigDL_Type {                         /* HARQ processes to be used automatically for DL assignments */
    Null_Type                           AllProcesses,           /* all HARQ processes shall be used for automatic assignmnet; this is the normal case */
    HarqProcessList_Type                SpecificSubset          /* only the HARQ processes of this list shall be used automatically, other processes are excluded from automatic assignments;
                                                                 * nevertheless all HARQ processes may be addressed explicitly by DRB_DataPerSubframe_DL_Type.HarqProcess */
  };
  
  type record CcchDcchDtchConfigDL_Type {   /* configuration for CCCH/DCCH/DTCH mapped to DL-SCH mapped to PDSCH */
    /* TransmissionMode: as signalled to the UE (AntennaInfoDedicated in RRCConnectionSetup);
     * RNTI: C-RNTI (TS 36.321, clause 7.1);
     * all fields optional (omit = "keep as it is") since DCI format and modulation may be changed during a test;
     * for initial configuration all fields are mandatory */
    DciDlInfo_Type              DciInfo               optional, /* DCI format: 1A per default since for CCCH mimo cannot be applied in general
                                                                 * ResourceAllocType: (depending on DCI format)
                                                                 * Modulation: QPSK for signalling
                                                                 * Frequency domain schedule: index of 1st RB; max. number of RBs per TTI;
                                                                 * in case of spatial multiplexing if there are 2 code words FreqDomainSchedul shall be applied to both */
    AntennaInfoDedicated_Type   AntennaInfo           optional, /* as signalled to the UE (TS 36.331, clause 6.3.2): transmissionMode, codebookSubsetRestriction */
    HarqProcessConfigDL_Type    HarqProcessConfig     optional  /* HARQ processes automatically used by the SS in DL */
  };

  } // End sub-sub-group UE_Specific_Channel_Configuration_DL

  //============================================================================

  group UE_Specific_Channel_Configuration_UL {                  /* Scheduling information for CCCH/DCCH/DTCH mapped to UL-SCH mapped to PUSCH */
  
  type union PucchHoppingBits_Type {                            /* Number of hopping bits acc. to TS 36.213 table 8.4-2 */
    B1_Type           OneBit,                                   /* N(UL, RB) = 6..49 i.e. default system bandwid this less than 10 MHz (does not include 10 MHz) */
    B2_Type           TwoBits                                   /* N(UL, RB) = 50..110 i.e. default system bandwidth is 10 MHz or above */
  };

  type record UplinkHoppingResourceParameters_Type {
    PucchHoppingBits_Type               PucchHopping            /* to control hopping resource allocation as signalled in DCI format 0 (TS 36.212, clause 5.3.3.1.1) */
  };

  type union UplinkHoppingControl_Type {    /* shall be considered by SS to fill in the information needed for DCI format 0 (TS 36.213, clause 7.1) */
    Null_Type                            Deactivated,
    UplinkHoppingResourceParameters_Type Activated
  };

  type record CcchDcchDtchConfigUL_Type {   /* scheduling for CCCH/DCCH/DTCH mapped to UL-SCH mapped to PUSCH */
    /* NOTE 1:
     * for definition of the possible UL grants the location of the PUCCH (TS 36.211, clause 5.4.3)
     * and the PRACH (TS 36.211, clause 5.7.3) need to be taken into account;
     * NOTE 2:
     * In contrast to the DL where the scheduling can be done (with consideration of some restrictions) by SS on a per need basis in the UL the scheduling depends on information provided by the UE: e.g. BSR (buffer status report), SR (scheduling request)
     * see TS 36.523-3 clause 7.2 for further information. */
    DciUlInfo_Type                      DciInfo       optional, /* DCI format: 0  (TS 36.213, clause 7.1)
                                                                 * ResourceAllocType: 2 (acc. to DCI format)
                                                                 * Modulation: QPSK per default
                                                                 * Frequency domain schedule: index of 1st RB; max. number of RBs per TTI
                                                                 * (upper bound up to which SS may assign grants to the UE) */
    UplinkHoppingControl_Type           Hopping       optional, /* when Hopping = 'Activated' SS shall set hopping flag in DCI format 0 */
    UplinkTimeAlignment_Synch_Type      PUCCH_Synch   optional, /* parameters to control automatic control of timing advance */
    UL_GrantConfig_Type                 UL_GrantConfig optional /* UL grant allocation to be applied */

    // for TDD there will be additional parameters like configuration of HARQ processes (see TS 36.213, clause 8)
  };

  } // End sub-sub-group UE_Specific_Channel_Configuration_UL

  //============================================================================

  type union DrxCtrl_Type {                                     /* DRX configuration for connected mode (TS 36.321, clause 5.7) */
    Null_Type                   None,                           /* DRX not configured */
    DRX_Config_Type             Config                          /* DRX is configured as signalled to the UE;
                                                                   NOTE: the release branch of DRX-Config in general is not used for configuration of the SS */
  };

  type union MeasGapCtrl_Type {                                 /* support of measurement gap configuration */
    Null_Type                   None,                           /* no measurement gap configuration  */
    MeasGapConfig_Type          Config                          /* measurement gap configuration acc. to TS 36.331, clause 6.3.5 and gap pattern acc. TS 36.133 Table 8.1.2.1-1;
                                                                   NOTE: the release branch of MeasGapConfig in general is not used for configuration of the SS */
  };

  type record CcchDcchDtchConfig_Type {
    MeasGapCtrl_Type            MeasGapCtrl           optional, /* to tell the SS when no assignments/grants shall be assigned to the UE */
    CcchDcchDtchConfigDL_Type   DL                    optional, /* Scheduling, parameters related to CCCH, DCCH and DTCH in DL */
    CcchDcchDtchConfigUL_Type   UL                    optional, /* Scheduling, parameters related to CCCH, DCCH and DTCH in UL */
    DrxCtrl_Type                DrxCtrl               optional, /* DRX configuration as sent to the UE (or 'None' when the UE does not support connected mode DRX) */
    TTI_BundlingConfig_Type     TtiBundling           optional, /* TTI bundling as configured at the UE */
    boolean                     CifPresence           optional  /* corresponds to PhysicalConfigDedicated.cif_Presence_r10:
                                                                 * The CIF field is applied for dedicated search space scheduling i.e. DCCH/DTCH.
                                                                 * Not present for common search space scheduling.
                                                                 * CIF indicator as true may be configured even in non CA cell, to facilitate the future
                                                                 * false: no serving cell is cross scheduled by this cell
                                                                 * true: carrier indicator field is present when the PDCCH CRC is scrambled by C-RNTI or SPS C-RNTI
                                                                 * omit means "keep as it is" */
  };
  
  type B6_Type  N_PSCCH_Type;
  type integer Itrp_Type (0..127);
  
  type union SciSchedulingConfig_Type {
    Sci0SchedulingConfig_Type   SCI0,
    Sci1SchedulingConfig_Type   SCI1
  };
  
  type record Sci0SchedulingConfig_Type {
   /* Scheduling for STCH mapped to SL-SCH mapped to PSSCH */
   /* DPCCH DCI format 5  (TS 36.213, clause 14.2) */
   /* UL grant allocation to be applied: On SL-BSR Reception */
   /* For the time being there is no requirement to configure the SS with TPC-PDCCH-Config;
    * In general SS is required to keep the UE's UL power constant */
    C_RNTI                     SL_RNTI_r12  optional,
    N_PSCCH_Type               N_PSCCH optional,                  /*  Resource for PSCCH - 6 bits */
    SL_Sci0Config_Type          SL_Sheduling optional              /* SCI format 0 configuration */
  };
  
  type record SL_Sci0Config_Type {
    /* SCI format 0 (TS 36.213 clause 14.2 TS 36.212 clause 5.3.3.1.9)
     * ResourceAllocType: 0 (36.213 cl 14.1.1.2.1 and 8.1.1)
     * Frequency domain schedule: index of 1st RB; max. number of RBs per TTI
     * (upper bound up to which SS may assign grants to the UE) */
    UplinkHoppingControl_Type           Hopping,                  /* Frequency hopping flag - bit */
    FreqDomainSchedulExplicit_Type      FreqDomainSchedul,        /* Resource block assignment */
    Itrp_Type                           Itrp                      /* Time resource pattern of 14.1.1.1.1 of TS 36.213 */
  };
  

  type record Sci1SchedulingConfig_Type {
   /* Scheduling for STCH mapped to SL-SCH mapped to PSSCH */
   /* DPCCH DCI format 5A  (TS 36.213 clause 14.2, TS 36.212 clause 5.3.3.1.9A) */
   /* UL grant allocation to be applied on SL-BSR Reception */
    C_RNTI              SL_V_RNTI_r12 optional,                 /* Set to SL-V-RNTI or SL-SPS-V-RNTI when SL-SPS is configured */
    B3_Type             CarrierIndicator optional,
    bitstring           LowestIndexOfChannelAllocation optional,  /* Lowest index of the subchannel allocation to the initial transmission */
    B2_Type             SL_Index optional,                      /* For TDD */
    B3_Type             SL_SPS_ConfigurationIndex   optional,   /* Applied for SL-SPS */
    B1_Type             SL_SPS_ActivationRelease    optional,   /* Applied for SL-SPS - Activation/release indication as defined in section 14.2.1 of TS 36.213 */
    SL_Sci1Config_Type  SL_SCI1_Scheduling  optional             /* SCI format 1 configuration */
  };

  type record SL_Sci1Config_Type {
    /* SCI format 1 parameters (TS 36.213 clause 14.2.1, TS 36.212 clause 5.3.3.1.9A)
     */
    bitstring   FreqResourceAllocation,     /* Frequency resource location of initial transmission and retransmission */
    B4_Type     TimeGap                     /* Time gap between initial transmission and retransmission */
  };
  
  } // End sub-group UE_Specific_Channel_Configuration

  //----------------------------------------------------------------------------

  group Carrier_Aggregation {
  
  type  record ActivateScell_Type {
    ScellBitMap_Type            ScellActivation,                /* 36.321 clause 6.1.3.8;  B0=C7, B1=C6 .. B6=C1, B7 is reserved.
                                                                 * B0 to B6, 1 means Activate associated Scell */
    boolean                     SendMCE                         /* If true the SS sends a MAC Control Element to the UE */
  };

  type enumerated Scell_Capability_Type {
    DlOnly,                     /* the CC is configured in DL only, no aggregation in this cell in UL */
    UL_DL                       /* the aggregation is configured in both UL and DL */
  };

  type union ScellDeactivationTimer_Type {                                      /* NOTE: this type is a union to allow semantic of "keep as it is" for optional fields of this type */
    MAC_MainConfig_ScellDeactivationTimer_Type  NumberOfRadioFrames,            /* SCell deactivation timer acc. to TS 36.321 */
    Null_Type                                   Infinity                        /* infinity as when 'sCellDeactivationTimer' is omitted in 'MAC-MainConfig' sent to the UE */
  };

  type record length (1..7) of SCellIndex_r10 SCellIndexList_List;

  type record CrossCarrierScheduledCellsList_Type {
    CrossCarrierSchedulingConfig_r10           crossCarrierSchedulingConfig_r10 optional, /* present if cross carrier scheduling needs to be configured and CrossCarrierSchedulingConfig_r13 is not present*/
    CrossCarrierSchedulingConfig_r13           crossCarrierSchedulingConfig_r13 optional  /* present if cross carrier scheduling needs to be configured and CrossCarrierSchedulingConfig_r10 is not present */
  };

  type union SchedulingCarrierConfig_Type {
    CrossCarrierScheduledCellsList_Type         Own,                            /* Cell is scheduled by itself and possible cross schedules other Scells */
    CrossSchedulingCarrierInfo_Type             CrossScheduled                  /* Cell is cross Scheduled by other carrier; the CIF field shall be configured in the serving cell scheduling this scell */
  };

  type union CrossCarrierSchedulingConfig_Type {
    SchedulingCarrierConfig_Type                Config,                         /* When cross carrier scheduling is enabled then the CIF field shall be configured in the serving cell scheduling this scell */
    Null_Type                                   None
  };

  type record PrimaryCellInfo_Type {
    EUTRA_CellIdList_Type                       AssociatedScellList,                            /* List of Scells associated with the Pcell/PScells  (needs to be consistent with AssociatedPcellId in Scell/PScell ) */
    MeasSubframePatternPCell_r10                MeasSubframePatternPCell optional,
    CrossCarrierScheduledCellsList_Type         CrossCarrierScheduledCellsList optional         /* Information of possible Cells Cross Scheduled by this cell */
  };

  type union Pcell_Mode_Type{
    Null_Type                   FDD,
    TDD_SubframeAssignment_Type TDD
   };

  type record SecondaryCellInfo_Type {
    EUTRA_CellId_Type                   AssociatedPcellId,                      /* cell ID of associated Pcell/PSCell (eutra_Cell_NonSpecific is not allowed) */
    SCellIndex_r10                      SCellIndex,
    Scell_Capability_Type               Scell_Capability optional,              /* if DL only or both UL and DL (omit means "keep as it is") */
    ScellDeactivationTimer_Type         ScellDeactivationTimer optional,        /* SCell deactivation timer; omit means "keep as it is";
                                                                                   when there is more than one SCell associated to the same PCell this field shall be set to the same value for each SCell */
    CrossCarrierSchedulingConfig_Type   CrossCarrierSchedulingConfig optional,  /* omit means "keep as it is"*/
    STAG_Id_r11                         STAG_Id   optional,                     /* if IE is never configured then scell is part of PTAG.
                                                                                 * Uses the STAG_ID or PTAG in Auto PUCCH synchronization when transmitting periodically Timing Advance MCE */
    Pcell_Mode_Type                     Pcell_Mode  optional                    /* omit means Pcell/PScell  and Scell mode are same. To be provide for FDD-TDD mixed mode CA/Dual connectivity configurations */
  };
  
  type union ServingCellConfig_Type  {
    PrimaryCellInfo_Type        PCell,                                          /* cell shall become PCell */
    SecondaryCellInfo_Type      SCell,                                          /* cell shall become SCell */
    PSCellInfo_Type             PSCell,                                         /* cell shall become PSCell */
    Null_Type                   Release                                         /* cell is changed back to normal non CA cell */
  };


  type record PSCellInfo_Type {
    EUTRA_CellId_Type                   AssociatedPcellId,                      /* cell ID of associated Pcell (eutra_Cell_NonSpecific is not allowed) */
    SCellIndex_r10                      SCellIndex,
    EUTRA_CellIdList_Type               AssociatedScellList,                    /* List of Scells associated with the PScell (needs to be consistent with AssociatedPcellId in Scell) */
    CrossCarrierSchedulingConfig_Type   CrossCarrierSchedulingConfig optional,  /* omit means "keep as it is"*/
    Pcell_Mode_Type                     Pcell_Mode  optional                    /* omit means PCell and PSCell mode are same. To be provide for FDD-TDD mixed mode Dual connectivity configurations */
  };

  } // End group Carrier_Aggregation

  group OCNG_Config {
  
    type union OCNG_Config_Type {
    OCNG_ActivateInfo_Type      Activate,             /* CellId : identifier of the cell where the OCNG needs to be activated
                                                       * RoutingInfo : None
                                                       * TimingInfo : activation time from when the SS starts transmission of uncorrelated pseudo random MAC TB's addressed to Virtual UE's in non ABS subframes.
                                                       * ControlInfo : CnfFlag:=false; FollowOnFlag:=false */
    Null_Type                   Deactivate            /* CellId : identifier of the cell where the OCNG needs to be deactivated
                                                       * RoutingInfo : None
                                                       * TimingInfo : activation time from when the SS stops transmission of MAC TB's  addressed to Virtual UE's in non ABS subframes.
                                                       * ControlInfo : CnfFlag:=false; FollowOnFlag:=false */
  };
  
  type record OCNG_ActivateInfo_Type   {
    /* OFDMA Channel Noise Generator (OCNG):
     * SS for transmitting uncorrelated pseudo random data in MAC TB's addressed to Virtual UE's, will not do any retransmissions due to no HARQ ACK/NACK reception being considered as NACK. */
    MeasSubframePattern_r10     MeasSubFramePattern   /* provides the bit string for x (size of bit string divided by 10) frames to be repeated continuously from provided timing info;
                                                       * 1 represents ABS subframe hence no pseudo random MAC TB is scheduled
                                                       * 0 represent non-ABS subframe and SS automatically transmits MAC TB's consisting of pseudo random  data in each non-ABS subframe */
  };
  
  } // End group OCNG

  
  group EIMTA_Config {
  
  type record EIMTA_Config_Type {
    EIMTA_MainConfig_r12                EIMTA_MainConfig_r12,         /* The IE EIMTA-MainConfig is used to specify the eIMTA-RNTI used for eIMTA and the subframes used for PDCCH monitoring by the UE with eIMTA-RNTI */
    EIMTA_MainConfigServCell_r12        EIMTA_MainConfigServCell_r12  /* The IE EIMTA-MainConfigServCell is used to specify the eIMTA related parameters applicable for the cell */
  };
  
  type record PeriodicTransmission_Type {
    integer                      Period (1..infinity),    /* DCI 1C transmission period (TTI=1ms);
                                                             the starting time, Period and NumRepetitions need to
                                                             be chosen in TTCN so that the DCI 1C transmissions are
                                                             assigned at valid subframes according to
                                                             EIMTA_MainConfig_r12 settings; otherwise SS shall
                                                             raise an error */
    TransmissionRepetition_Type   NumRepetitions    /* number of  DCI 1C repetitions to be automatically transmitted or 'Continuous' */
  };
  
  type union PDCCH_TDD_ConfigOrder_Type  {
    Null_Type                       OnlyOnce,    /* DCI 1C is sent out on PDCCH with CRC scrambled by eIMTA-RNTI only once; no period */
    PeriodicTransmission_Type       Periodic,    /* SS transmits DCI 1C periodically as configured by EIMTA_MainConfig_Type */
    Null_Type                       None         /* stop DCI 1C transmission */
  };
   
  } // End group OCNG
  
  } // End group Cell_Configuration
  
  //****************************************************************************
  
  group Cell_Power_Attenuation {
  
  type record CellAttenuationConfig_Type {
    EUTRA_CellId_Type           CellId,
    Attenuation_Type            Attenuation,
    TimingInfo_Type             TimingInfo            optional
  };
  
  type record length(1..tsc_EUTRA_MaxNumberOfCells) of CellAttenuationConfig_Type CellAttenuationList_Type;
  
  } // End group Cell_Power_Attenuation
  
  //****************************************************************************
  
  group Radio_Bearer_Configuration {            /* Radio Bearer Configuration: SRBs/DRBs */
  
  group PDCP_Configuration {
  
  type enumerated PDCP_SNLength_Type {          /* PDCP Sequence Number */
    PDCP_SNLength5,             /* TS 36.323 clause 6.2.2 */
    PDCP_SNLength7,             /* TS 36.323 clause 6.2.3 */
    PDCP_SNLength12,            /* TS 36.323 clause 6.2.4 */
    PDCP_SNLength16             /* TS 36.323 clause 6.2.10 */
  };

  type record PDCP_ROHC_Mode_Type {
    PDCP_SNLength_Type          SN_Size
  };

  type record PDCP_NonROHC_Mode_Type {
    PDCP_SNLength_Type          SN_Size
  };

  type union PDCP_TestModeInfo_Type {
    PDCP_ROHC_Mode_Type         PDCP_ROHC_Mode,                 /* ROHC test mode acc. to TS 36.523-3, clause 4.2.1.3.1;
                                                                 * requires PDCP to be configured for this RB =>
                                                                 * - SS applies ciphering in UL and DL
                                                                 * - SS maintains PDCP sequence numbers and state variables
                                                                 * Furthermore in this mode
                                                                 * - SS does not add/remove PDCP headers
                                                                 *   (in UL the PDCP PDUs are decoded depending on SN_Size)
                                                                 * - SS applies ROHC in DL only */
    PDCP_NonROHC_Mode_Type      PDCP_NonROHC_Mode               /* PDCP test mode acc. to TS 36.523-3, clause 4.2.1.3.2 (non-ROCH test mode);
                                                                 * requires PDCP to be configured as transparent =>
                                                                 * - SS does not apply ciphering in UL and DL
                                                                 * - SS does not interpret, insert or remove PDCP headers
                                                                 *   (in UL PDCP PDUs are decoded depending on SN_Size)
                                                                 * - SS does not maintain PDCP sequence numbers and state variables */
  };

  type union PDCP_TestModeConfig_Type {
    Null_Type                   None,
    PDCP_TestModeInfo_Type      Info
  };

  type union PDCP_RbConfig_Type {
    Null_Type                   Srb,                            /* for SRB1/2 there are no PDCP_Parameters;
                                                                 * SN is always 5 bits */
    PDCP_Config_Type            Drb,                            /* PDCP-Configuration acc. to TS 36.331, clause 6.3.2;
                                                                 * among others for UM here pdcp-SN-Size is configured to be either len7bits or len12bits;
                                                                 * for AM it always is 12bit */
    Null_Type                   Transparent                     /* used for PDCP tests (TS 36.523-3, clause 4.2.1.3.2):
                                                                 * the SS does not apply ciphering and does not maintain
                                                                 * PDCP sequence numbers and state variables;
                                                                 * in UL the PDCP PDUs are decoded acc. to the TestMode;
                                                                 * Note: a reconfiguration of a RB from transparent mode to 'normal' mode is not foreseen
                                                                 *       (i.e. there is no mechanism to restore Ciphering,
                                                                 *       PDCP sequence numbers and state variables at the SS) */
  };

  type record PDCP_ConfigInfo_Type {
    PDCP_RbConfig_Type          Rb                    optional, /* mandatory for initial configuration; omit means "keep as it is" */
    PDCP_TestModeConfig_Type    TestMode              optional  /* mandatory for initial configuration; omit means "keep as it is" */
  };

  type union PDCP_Configuration_Type {
    Null_Type                   None,                           /* for SRB0 no PDCP is configured; furthermore the PDCP may not be configured e.g. for DRBs tested in MAC test cases */
    PDCP_ConfigInfo_Type        Config,                         /* 4G PDCP configuration */
    NR_PDCP_RBTerminating_Type  NR_PDCP,                        /* 5G PDCP configuration */
    NR_PDCP_Proxy_Type          Proxy                           /* PDCP Proxy to be used for (MR)-DC */
  };

  } // End sub-group PDCP_Configuration

  //----------------------------------------------------------------------------

  group RLC_Configuration {                     /* RLC configuration: radio bearer specific */

  type enumerated RLC_ACK_Prohibit_Type {
    Prohibit,                   /* cause SS RLC layer to stop any ACK transmission for UL PDU's received from UE */
    Continue                    /* bring back the SS RLC in normal mode, where ACK/NACK are transmitted at polling */
  };


  type enumerated RLC_NotACK_NextRLC_PDU_Type {
    Start                       /* cause SS RLC layer not to ACK the next received RLC PDU;
                                 * this is done regardless of whether the poll bit is set or not;
                                 * Example [from UMTS]:
                                 * when the UE gets new security information in a SECURITY MODE COMMAND
                                 * the response (SECURITY MODE COMPLETE) sent by the UE is not acknowledged at the RLC level;
                                 * this causes the UE to continue using the "old" security information */
  };

  type integer RLC_AM_SequenceNumber_Type (0..1023);            /* RLC AM sequence number */

  type union RLC_TestModeInfo_Type {
    RLC_ACK_Prohibit_Type       AckProhibit,                    /* valid only when the RLC is configured in AM */
    RLC_NotACK_NextRLC_PDU_Type NotACK_NextRLC_PDU,             /* valid only when the RLC is configured in AM */
    RLC_AM_SequenceNumber_Type  ModifyVTS,                      /* to modify the VT(S) at SS: VT(S) at the SS side is set to this (absolute) value;
                                                                   valid only when the RLC is configured in AM */
    Null_Type                   TransparentMode_UMDwith5BitSN,  /* shall be set when TTCN expects RLC PDUs as UMD in UL with an SN of 5 bits;
                                                                   valid only when the RLC is configured in TM */
    Null_Type                   TransparentMode_UMDwith10BitSN, /* shall be set when TTCN expects RLC PDUs as UMD in UL with an SN of 10 bits;
                                                                   valid only when the RLC is configured in TM */
    Null_Type                   TransparentMode_AMD             /* shall be set when TTCN expects RLC PDUs as AMD in UL;
                                                                   valid only when the RLC is configured in TM */
  };

  type union RLC_TestModeConfig_Type {
    Null_Type                   None,
    RLC_TestModeInfo_Type       Info
  };

  type record SS_RLC_AM_Type {
    UL_AM_RLC_Type              Tx                    optional, /* the UE's UL setting to be used in SS's tx direction */
    DL_AM_RLC_Type              Rx                    optional, /* the UE's DL setting to be used in SS's rx direction */
    RLC_Config_v1250            ExtendedLI            optional  /* Indicates the RLC LI field size. Value TRUE means that 15 bit LI length shall be used,
                                                                 * otherwise 11 bit LI length shall be used */
  };
  type record SS_RLC_UM_Bi_Directional_Type {
    UL_UM_RLC_Type              Tx                    optional, /* the UE's UL setting to be used in SS's tx direction */
    DL_UM_RLC_Type              Rx                    optional  /* the UE's DL setting to be used in SS's rx direction */
  };
  type record SS_RLC_UM_Uni_Directional_UL_Type {
    DL_UM_RLC_Type              Rx                    optional  /* the UE's DL setting to be used in SS's rx direction */
  };
  type record SS_RLC_UM_Uni_Directional_DL_Type {
    UL_UM_RLC_Type              Tx                    optional  /* the UE's UL setting to be used in SS's tx direction */
  };
  type Null_Type SS_RLC_TM_Type;                                /* TM to configure SRB0; no parameters to be defined */

  type union RLC_RbConfig_Type {
    SS_RLC_AM_Type                      AM,
    SS_RLC_UM_Bi_Directional_Type       UM,
    SS_RLC_UM_Uni_Directional_UL_Type   UM_OnlyUL,
    SS_RLC_UM_Uni_Directional_DL_Type   UM_OnlyDL,
    SS_RLC_TM_Type                      TM                      /* normally SRB0 only; may be used for test purposes also */
  };

  type record RLC_Configuration_Type {
    RLC_RbConfig_Type           Rb                    optional, /* mandatory for initial configuration; omit means "keep as it is" */
    RLC_TestModeConfig_Type     TestMode              optional  /* mandatory for initial configuration; omit means "keep as it is" */
  };

  } // End sub-group RLC_Configuration

  //----------------------------------------------------------------------------

  group MAC_Configuration {                     /* MAC configuration: radio bearer specific configuration */

  // Types for test mode configuration:
  type union MAC_Test_DLLogChID_Type {
    TestLogicalChannelId_Type   LogChId,        /* Specifies to over write the logical channel ID in MAC header in all the DL messages sent on the configured logical channel */
    Null_Type                   ConfigLchId     /* Specifies that the normal mode of correct logical channel ID to be used in DL MAc header.
                                                 * This will be the default mode, when SS is initially configured. */
  };

  type enumerated MAC_Test_DL_SCH_CRC_Mode_Type {
    Normal,                     /* default mode, the CRC generation is correct */
    Erroneous,                  /* SS shall generate CRC error by toggling CRC bits;
                                 * the CRC error shall be applied for all PDUs of the given RNTI and their retransmission until SS is configured back to 'normal' operation */
    Error1AndNormal             /* the SS generates wrong CRC for first transmission and correct CRC on first retransmission.
                                 * Later SS operates in normal mode. The retransmission is automatically triggered by reception of HARQ NACK */
  };

  type enumerated MAC_Test_SCH_NoHeaderManipulation_Type {
    NormalMode,                 /* MAC header is fully controlled by the SS */
    DL_SCH_Only,                /* TTCN can submit a final MAC PDU including header and payloads;
                                 * SS does not do anything with this MAC PDU i.e. no header is added for the DL SCH transport channel.
                                 * It is possible that data belonging to multiple DRBs is sent in one MAC PDU and from one special RB configured.
                                 * NOTE: SRBs shall work as in normal mode and data can be sent/received on SRBs but sending on SRBs shall be in different TTIs than sending data PDUs. */
    DL_UL_SCH                   /* In UL and DL the SS' MAC layer is transparent i.e. SS does not add or remove any MAC header */
  };

  const integer tsc_MaxHarqRetransmission := 28;                /* maximum value for maxHARQ-Msg3Tx as being signalled to the UE */
  type record length (1..tsc_MaxHarqRetransmission) of HARQ_Type HARQ_ModeList_Type;
  type union PhichTestMode_Type {
    Null_Type                   NormalMode,                     /* PHICH is configured to operate in normal mode */
    HARQ_ModeList_Type          ExplicitMode                    /* the number of elements in explicit list shall match the number of retransmissions being expected */
  };

  type record MAC_TestModeInfo_Type {
    /* Parameters/Configuration for MAC tests */
    MAC_Test_DLLogChID_Type                     DiffLogChId,            /* to be used in test cases 7.1.1.1 and 7.1.1.2 for using a different logical channel ID in MAC-header on DL-SCH channel */
    MAC_Test_SCH_NoHeaderManipulation_Type      No_HeaderManipulation   /* to configure mode for  no header manipulation in SS MAC layer for DL/UL SCH */
  };

  type union MAC_TestModeConfig_Type {
    Null_Type                   None,
    MAC_TestModeInfo_Type       Info
  };

  type record MAC_LogicalChannelConfig_Type {
    integer                     Priority,                       /* logical channel priority for the DL as described in TS 36.321, clause 5.4.3.1 for the UL */
    PrioritizedBitRate_Type     PrioritizedBitRate,             /* PBR as described for the UL; probably not needed at SS */
    LAA_UL_Allowed_Type         LAA_UL_Allowed optional         /* Indicates whether the data of a logical channel is allowed to be transmitted via UL of LAA SCells */
  };

  type record MAC_Configuration_Type {
    MAC_LogicalChannelConfig_Type   LogicalChannel    optional, /* mandatory for initial configuration; omit means "keep as it is" */
    MAC_TestModeConfig_Type         TestMode          optional  /* mandatory for initial configuration; omit means "keep as it is";
                                                                 * for none MAC tests "TestMode.None:=true" */
  };

  } // End sub-group MAC_Configuration

  //----------------------------------------------------------------------------

  type integer TestLogicalChannelId_Type (0..31);       /* To be used in MAC test mode for reserved values of Logical channels;*/

  type record RadioBearerConfigInfo_Type {
    /* semantics of omit: "keep as it is" */
    PDCP_Configuration_Type     Pdcp                  optional, /* for SRB0: "Pdcp.None:=true"
                                                                 * mandatory for initial configuration; omit means "keep as it is" */
    RLC_Configuration_Type      Rlc                   optional, /* mandatory for initial configuration; omit means "keep as it is" */
    LogicalChannelId_Type       LogicalChannelId      optional, /* DRBs: DTCH-LogicalChannelIdentity as for rb-MappingInfo in DRB-ToAddModifyList;
                                                                 * SRBs: for SRBs specified configurations acc. to TS 36.331, clause 9.1.2 shall be applied:
                                                                 * SRB1: ul-LogicalChannel-Identity = dl-LogicalChannel-Identity = 1
                                                                 * SRB2: ul-LogicalChannel-Identity = dl-LogicalChannel-Identity = 2
                                                                 * for SRB0 being mapped to CCCH the LCID is '00000'B acc. to TS 36.321, clause 6.2.1;
                                                                 * mandatory for initial configuration; omit means "keep as it is" */
    MAC_Configuration_Type      Mac                   optional,
    boolean                     DiscardULData         optional  /* if omitted:
                                                                 *   initial configuration: data is handed over to TTCN as usual
                                                                 *   re-configuration:      "keep as it is"
                                                                 * if set:
                                                                 *   true  - SS shall discard any data in UL for this radio bearer
                                                                 *   false - (re)configuration back to normal mode
                                                                 * NOTE: typically applicable for UM DRBs only */
  };

  type union RadioBearerConfig_Type {
    RadioBearerConfigInfo_Type  AddOrReconfigure,               /* add / re-configure RB -
                                                                 * CellId : identifier of the cell being configured
                                                                 * RoutingInfo : None
                                                                 * TimingInfo : 'Now' in common cases
                                                                 * ControlInfo : CnfFlag:=true; FollowOnFlag:=false (in general) */
    Null_Type                   Release                         /* release RB -
                                                                 * CellId : identifier of the cell being configured
                                                                 * RoutingInfo : None
                                                                 * TimingInfo : 'Now' in common cases
                                                                 * ControlInfo : CnfFlag:=true; FollowOnFlag:=false (in general) */
  };

  type record RadioBearer_Type {
    RadioBearerId_Type          Id,                             /* either for SRB or DRB */
    RadioBearerConfig_Type      Config
  };

  type record length (1..tsc_MaxRB) of RadioBearer_Type RadioBearerList_Type;    /* array of SRBs and/or DRBs (DRBs + 3 SRBs) */

  } // End group Radio_Bearer_Configuration

  //****************************************************************************

  group AS_Security {      /* Primitive for control of AS security */

  type record PdcpSQN_Type {
    PdcpCountFormat_Type      Format,                          /* 5 bit, 7 bit or 12 bit SQN */
    integer                   Value                            /* SQN value (5 bit, 7 bit or 12 bit SQN)
                                                                * NOTE:
                                                                * in TTCN the test case writer is responsible to deal with potential overflows
                                                                * (e.g. there shall be a "mod 32", "mod 128" or "mod 4096" according to the format) */
  };

  type union PDCP_ActTime_Type {
    /* The sequence number in UL and DL for SRB1 should be one more than the present SQN, as Ciphering starts in UL and DL soon after SMC and SMComp;
     * For other SRB/DRB it should be the present SQN. */
    Null_Type                   None,                           /* No Activation time; to be used if Ciphering is not applied */
    PdcpSQN_Type                SQN                             /* PDCP sequence number */
  };

  type record SecurityActTime_Type {
    RadioBearerId_Type          RadioBearerId,
    PDCP_ActTime_Type           UL,
    PDCP_ActTime_Type           DL
  };

  type record length (1..tsc_MaxRB) of SecurityActTime_Type SecurityActTimeList_Type;

  type record AS_IntegrityInfo_Type {
    /* for initial configuration activation time is not needed for integrity protection as all messages in DL after security activation are integrity protected;
     * this means this ASP is invoked before transmission of Security mode command;
     * if there is a integrity violation in UL SS shall set the IndicationStatus in the common ASP part to flag the integrity error
     * (IndicationStatus.Error.Integrity.Pdcp := true);
     * integrity to be provided for each SRB as per core spec */
    IntegrityProtAlgorithm_Type    Algorithm,                   /* IntegrityProtAlgorithm_Type being defined in RRC ASN.1 */
    B128_Key_Type             KRRCint,
    SecurityActTimeList_Type  ActTimeList optional              /* omit for initial configuration (i.e. all SRBs to be integrity protected immediately);
                                                                 * in HO scenarios activation time may be needed e.g. for SRB1 */
  };

  type record AS_CipheringInfo_Type {
    CipheringAlgorithm_r12    Algorithm,                        /* CipheringAlgorithm_Type being defined in RRC ASN.1 */
    B128_Key_Type             KRRCenc,
    B128_Key_Type             KUPenc,                           /* KUPenc is mandatory; and SS uses it when DRB are configured */
    SecurityActTimeList_Type  ActTimeList
  };
  
  type record AS_SecStartRestart_Type {
    AS_IntegrityInfo_Type     Integrity optional,               /* optional to allow separated activation of integrity and ciphering; omit: keep as it is */
    AS_CipheringInfo_Type     Ciphering optional                /* optional to allow separated activation of integrity and ciphering; omit: keep as it is */
  };
  
  type union AS_Security_Type {                                 /* Security mode command procedure (TS 36.331, clause 5.3.4):
                                                                 * both SMC and SMComp are integrity protected
                                                                 * (nevertheless SS shall be able to cope with unprotected SM reject);
                                                                 * ciphering is started just after SMComp (acc. to TS 36.331, clause 5.3.4.3 and 5.3.1.1) */
    AS_SecStartRestart_Type   StartRestart,                     /* information to start/restart AS security protection in the PDCP */
    Null_Type                 Release                           /* to release AS security protection in the PDCP */
  };
  
  } // End group AS_Security
  
  //****************************************************************************
  
  group Semi_Persistent_Scheduling {
  /* Semi-persistent scheduling (SPS)
   * NOTE 1:
   * configuration of SPS cannot be done completely in advance but needs to be activated by PDCCH signalling
   * => SPS is configured/activated in an own primitive which may be sent to SS during RBs are being configured
   * NOTE 2:
   * semi-persistent (configured) scheduling is per UE (as well as 'normal' scheduling; see e.g. TS 36.300, clause 11.1) */
  
  type record SpsAssignmentUL_Type {
    /* information to assign semi-persistent scheduls in UL */
    DciUlInfo_Type              DciInfo               optional, /* to apply a grant */
    SpsConfigurationUL_Type     SchedulInterval       optional, /* as in TS 36.331, clause 6.3.2 SPS-ConfigUL */
    Null_Type                   SetNDI_1              optional  /* if present then NDI is set as 1 indicating a retransmission; If absent then NDI is set as 0 indicating a new transmission */
  };
  
  type record SpsAssignmentDL_Type {
    /* information to assign semi-persistent scheduls in DL */
    DciDlInfo_Type              DciInfo               optional, /* to apply a assignment */
    SpsConfigurationDL_Type     SchedulInterval       optional, /* as in TS 36.331, clause 6.3.2 SPS-ConfigDL */
    Null_Type                   SetNDI_1              optional  /* if present then NDI is set as 1 indicating a retransmission; If absent then NDI is set as 0 indicating a new transmission */
  };
  
  type record SpsActivateInfo_Type {
    /* Semi-persistent scheduling (SPS):
     * Even though SPS is pre-configured at the UE (e.g. RRCConnectionSetup->RadioResourceConfiguration->MAC_MainConfig) it needs to be activated by L1 signalling
     * => SS shall 'activate' SPS by sending appropriate assignments/grants to the UE; this shall be done with an activation time.
     * If SPS is already configured and new Activate command is received, at the activation time SS locally deactivates old SPS configuration, sends UE an PDCCH assignment for new SPS assignment and locally activates new SPS configuration.
     * In DL, in addition to SS SPS assignment configuration with activation time 'T', TTCN writer shall also schedule a DL MAC PDU with same activation time 'T' and at every SPS ScheduleInterval (NOTE: in general it is an error when TTCN does not provide data for a SchedulInterval; SS shall send no data in this case).
     * Special fields of PDCCH assignment are filled as per table 9.2-1 of 36.213 */
    C_RNTI                      SPS_C_RNTI,                     /* SPS C-RNTI as signalled to UE */
    SpsAssignmentUL_Type        UplinkGrant           optional,
    SpsAssignmentDL_Type        DownlinkAssignment    optional
  };

  type record SpsPdcchRelease_Type {
    /* On reception of this information SS shall send an SPS release indicated by PDCCH transmission with indicated DCI format (0 or 1A) at the activation time.
     * Special fields of PDCCH assignment are filled as per table 9.2-1A of 36.213 */
    C_RNTI                      SPS_C_RNTI,
    PdcchDciFormat_Type         DCI_Format  /* only formats 0 (UL release) and 1A (DL release) are applicable. It is a TTCN error if any other formats are used. */
  };
  
  type union SpsDeactivateInfo_Type {
    Null_Type                   LocalRelease,         /* SPS configuration shall be released at the SS, that means as well that the SS shall not address SPS_C_RNTI anymore from the given TimingInfo onward;
                                                       * NOTE: there is no SPS release to be signalled on PDCCH (this is done with PdcchExplicitRelease - see below) */
    SpsPdcchRelease_Type        PdcchExplicitRelease  /* SS transmits PDCCH content indicating SPS release but holds the local SPS configuration until it is locally released */
  };
  
  type union SpsConfig_Type {
    SpsActivateInfo_Type        Activate,             /* CellId : identifier of the cell where the UE is active
                                                       * RoutingInfo : None
                                                       * TimingInfo : activation time for SPS assignment/grant transmission; NOTE: the first SPS DL data packet shall be sent with the same timing information
                                                       * ControlInfo : CnfFlag:=false; FollowOnFlag:=false
                                                       */
    SpsDeactivateInfo_Type      Deactivate            /* CellId : identifier of the cell where the UE is active
                                                       * RoutingInfo : None
                                                       * TimingInfo : activation time for SPS release indicated by PDCCH transmission or SS local deactivation
                                                       * ControlInfo : CnfFlag:=false; FollowOnFlag:=false
                                                       */
  };
  
  } // End group Semi_Persistent_Scheduling
  
  //****************************************************************************
  
  group Paging_Trigger {
  
  type record length (1..infinity) of integer SubframeOffsetList_Type;
  
  type record PagingTrigger_Type {                              /* CellId : identifier of the cell where the UE is active
                                                                   RoutingInfo : None
                                                                   TimingInfo : Calculated paging occasion
                                                                   ControlInfo : CnfFlag:=false; FollowOnFlag:=false */
    /* primitive to trigger transmission of a paging on the PCCH at a calculated paging occasion (TS 36.304, clause 7);
     * the paging occasion is calculated by TTCN and activation time is applied;
     * as for BCCH Infor acc. to TS 36.331, clause 9.1.1.3 "RRC will perform padding, if required due to the granularity of the TF signalling, as defined in 8.5.";
     * therefore this needs to be done by the system simulator */
    PCCH_Message                    Paging,                     /* paging to be send out at paging occasion and being announced on PDCCH using P-RNTI */
    SubframeOffsetList_Type         SubframeOffsetList optional /* list of subframe offsets relative to the absolute timing information given in the common part of the ASP;
                                                                   if present, multiple pagings are sent out at all occasions given by the list;
                                                                   if omitted only a single paging is sent at the occasion given by the timing information in the common part of the ASP */
  };
  
  } // End group  Paging_Trigger
  
  //****************************************************************************
  
  group L1_MAC_Indication_Control {    /* Primitive for control of L1/MAC indication for special purposes */
  
  type record L1Mac_IndicationControl_Type {
    /* NOTE:
       Initially all indications are disabled in SS (i.e. it shall not be necessary in 'normal' test cases to use this primitive but only if a specific indication is needed); omit means indication mode is not changed */
    IndicationAndControlMode_Type       RachPreamble          optional, /* To enable/disable reporting of PRACH preamble received. */
    IndicationAndControlMode_Type       SchedReq              optional, /* To enable/disable reporting of reception of Scheduling Request on PUCCH. */
    IndicationAndControlMode_Type       BSR                   optional, /* To enable/disable reporting of Buffer/Extended Buffer Status Report, Sidelink Buffer Status report or Truncated Sidelink Buffer Status Report.
                                                                         * NOTE:
                                                                         * this is applicable only when MAC is configured in normal mode in UL;
                                                                         * MAC configured in test mode, results in over writing the report. */
    IndicationAndControlMode_Type       UL_HARQ               optional, /* To enable/disable reporting of reception of HARQ ACK/NACK. */
    IndicationAndControlMode_Type       C_RNTI                optional, /* To enable/disable reporting of C-RNTI sent by the UE within MAC PDU */
    IndicationAndControlMode_Type       PHR                   optional, /* To enable/disable reporting of Power Headroom Report.
                                                                         * NOTE:
                                                                         * this is applicable only when MAC is configured in normal mode in UL;
                                                                         * MAC configured in test mode, results in over writing the report. */
    IndicationAndControlMode_Type       HarqError             optional, /* To enable/disable reporting of HARQ errors */
    IndicationAndControlMode_Type       PeriodicRI            optional, /* To enable/disable reporting of reception of periodic Rank Indicators */
    IndicationAndControlMode_Type       EPHR                  optional, /* To enable/disable reporting of Extended Power Headroom Report.
                                                                         * NOTE:
                                                                         * this is applicable only when MAC is configured in normal mode for UL;
                                                                         * MAC configured in test mode, results in overwriting the report. */
    IndicationAndControlMode_Type      PeriodicCQI            optional, /* To enable/disable reporting of reception of periodic CQI  */
    IndicationAndControlMode_Type      SRS                    optional,  /* To enable/disable reporting of start and stop of reception of Type 0 (Configured by Higher Layer) SRS in frames meant for periodic SRS transmission by UE.
                                                                         * SS reports an indication every time when SRS reception from UE has toggled in the frames configured for periodic SRS reception i.e.
                                                                         * 'No periodic SRS' reception -> 'periodic SRS' reception or
                                                                         * 'periodic SRS' reception -> 'No periodic' SRS reception.*/
    IndicationAndControlMode_Type      DC_PHR                  optional /* To enable/disable reporting of Dual Connectivity Power Headroom Report.
                                                                         * NOTE: this is applicable only when MAC is configured in normal mode for UL;
                                                                         * MAC configured in test mode, results in overwriting the report. */
  };

  } // End group L1_MAC_Indication_Control

  //****************************************************************************
  
  group Rlc_Indication_Control {    /* Primitive for control of RLC indication for special purposes */
  
  type enumerated Rlc_IndicationMode_Type {enable, disable};
  
  type record Rlc_IndicationControl_Type {
    Rlc_IndicationMode_Type             Discard                 optional  /* To enable/disable reporting of discarded RLC PDUs */
  };
  
  } // End group RLC_Indication_Control
  
  //****************************************************************************
  
  group PDCP_Count {    /* Primitives to enquire PDCP COUNT */

  type enumerated PdcpCountFormat_Type {
    PdcpCount_Srb,                      /* 27 bit HFN; 5 bit SQF */
    PdcpCount_DrbLongSQN,               /* 20 bit HFN; 12 bit SQF */
    PdcpCount_DrbShortSQN               /* 25 bit HFN; 7 bit SQF */
  };
  type record PdcpCount_Type {
    PdcpCountFormat_Type      Format,
    PdcpCountValue_Type       Value
  };
  type record PdcpCountInfo_Type {
    RadioBearerId_Type        RadioBearerId,
    PdcpCount_Type            UL  optional,     /* omit: keep as it is */
    PdcpCount_Type            DL  optional      /* omit: keep as it is */
  };
  
  type record length (1..tsc_MaxRB) of  PdcpCountInfo_Type PdcpCountInfoList_Type;
  
  type union PdcpCountGetReq_Type {
    Null_Type                 AllRBs,   /* return COUNT values for all RBs being configured */
    RadioBearerId_Type        SingleRB
  };
  
  type union PDCP_CountReq_Type {
    PdcpCountGetReq_Type      Get,      /* Request PDCP count for one or all RBs being configured at the PDCP */
    PdcpCountInfoList_Type    Set       /* Set PDCP count for one or all RBs being configured at the PDCP;
                                         * list for RBs which's COUNT shall be manipulated */
  };
  
  type union PDCP_CountCnf_Type {
    PdcpCountInfoList_Type    Get,      /* RBs in ascending order; SRBs first */
    Null_Type                 Set
  };
  
  } // End group PDCP_Count
  
  //****************************************************************************
  
  group PDCP_Handover {         /* Primitives to control PDCP regarding handover */
  
  type record PDCP_HandoverInit_Type {
    EUTRA_CellId_Type                   SourceCellId
  };
  
  type union PDCP_HandoverControlReq_Type {
    PDCP_HandoverInit_Type              HandoverInit,           /* to inform SS that a handover will follow:
                                                                 * in the common ASP part the CellId shall be set to the id of the target cell */
    Null_Type                           HandoverComplete        /* to inform SS that the handover has successfully been performed by the UE;
                                                                 * this shall trigger the SS to sent a PDCP Status Report to the UE;
                                                                 * in the common ASP part the CellId shall be set to the id of the target cell */
  };
  
  } // End group PDCP_Handover

  //****************************************************************************
  
  group L1_MAC_Test_Mode {  /* Primitive for control of L1/MAC Test Modes */
  
  type record L1_TestMode_Type {
    // L1 test mode; in general RACH is handled separately
    DL_SCH_CRC_Type           DL_SCH_CRC,       /* Manipulation of CRC bit generation for DL-SCH */
    PhichTestMode_Type        Phich             /* HARQ feedback mode on the PHICH */
  };
  
  type union DL_SCH_CRC_Type {
    /* NOTE:
     * CRC error mode for RA_RNTI is not addressed as it will be configured in RACHProcedureConfig */
    MAC_Test_DL_SCH_CRC_Mode_Type  C_RNTI,      /* to configure mode for CRC bit for all MAC PDU's for which C-RNTI is used in PDCCH transmission */
    MAC_Test_DL_SCH_CRC_Mode_Type  SI_RNTI,     /* to configure mode for CRC bit for all MAC PDU's for which SI-RNTI is used in PDCCH transmission */
    MAC_Test_DL_SCH_CRC_Mode_Type  SPS_RNTI     /* to configure mode for CRC bit for all MAC PDU's for which SPS-RNTI is used in PDCCH transmission */
  };
  
  } // End group L1_MAC_Test_Mode
  
  //****************************************************************************
  
  group PDCCH_Order {           /* Primitive to trigger SS to send PDCCH order to initiate RA procedure (TS 36.321, clause 5.1.1) */
  
  type Ra_PreambleIndex_Type PrachPreambleIndex_Type;
  type integer PrachMaskIndex_Type (0..15);     /* TS 36.321, clause 7.3 */
  
  type record  RA_PDCCH_Order_Type {            /* see also TS 36.212, clause 5.3.3.1.3 */
    PrachPreambleIndex_Type     PreambleIndex,  /* naming acc. TS 36.212, clause 5.3.3.1.3 */
    PrachMaskIndex_Type         PrachMaskIndex  /* naming acc. TS 36.212, clause 5.3.3.1.3 */
  };
  
  } // End group PDCCH_Order
  
  //****************************************************************************
  
  group System_Indications {                    /* Primitives for System indications */
  
  type Dummy_Type PRTPower_Type;                                /* needs to define appropriately the power level report of PREAMBLE_RECEIVED_TARGET_POWER;
                                                                 * NOTE: for the time being this is just a place holder for enhancements in the future. */
  
  type integer LogicalChannelGroup_Type (0..3);
  type integer BSR_Value_Type (0..63);
  type integer PHR_Type (0..63);
  
  type record HarqProcessInfo_Type {
    HarqProcessId_Type                  Id,
    integer                             CURRENT_TX_NB           /* acc. to TS 36.321 clause 5.4.2.2 */
  };
  
  type union HarqError_Type {
    HarqProcessInfo_Type                UL,                     /* indicates HARQ error detected at the SS side (error at UL transmission) */
    HarqProcessInfo_Type                DL                      /* indicates HARQ NACK sent by the UE (error at DL transmission) */
  };
  
  type record RachPreamble_Type {
    PrachPreambleIndex_Type             RAPID,                  /* indicates the RAPID of the preamble used (integer (0..63)) */
    PRTPower_Type                       PRTPower,               /* represents the PREAMBLE_RECEIVED_TARGET_POWER */
    integer                             RepetitionsPerPreambleAttempt optional /* Applicable when numRepetitionPerPreambleAttempt-r13 is configured */
  };
  
  type record Short_BSR_Type {
    LogicalChannelGroup_Type            LCG,                    /* Logical channel Group */
    BSR_Value_Type                      Value                   /* BSR or Extended BSR  value */
  };
  type record Long_BSR_Type {
    BSR_Value_Type                      Value_LCG1,             /* BSR or Extended BSR value for LCG 1 */
    BSR_Value_Type                      Value_LCG2,             /* BSR or Extended BSR value for LCG 2 */
    BSR_Value_Type                      Value_LCG3,             /* BSR or Extended BSR value for LCG 3 */
    BSR_Value_Type                      Value_LCG4              /* BSR or Extended BSR value for LCG 4 */
  };
  type union BSR_Type {
    Short_BSR_Type                      Short,
    Short_BSR_Type                      Truncated,
    Long_BSR_Type                       Long,
    SL_BSR_MACHeader_Type               Sidelink
  };

  type record RlcDiscardInd_Type {                              /* SS shall send this indication if it discards a received RLC AMD PDU as specified in TS 36.322 cl. 5.1.3.2.2. */
    integer                             SequenceNumber          /* sequence number of the PDU being discarded */
  };
  
  type integer RI_Type (1..4);          /* Rank indicator reported acc. to TS 36.212 Table 5.2.2.6-6 */
  
  type enumerated SRSInd_Type {
    SRS_Start,                          /* SS was not receiving SRS in the frames configured for periodic SRS, and SS has started reception of higher layer configured SRS in frame meant for periodic SRS transmission */
    SRS_Stop                            /* SS was receiving SRS in the frames configured for periodic SRS, and SS has stopped reception of higher layer configured SRS in frame meant for periodic SRS transmission */
  };

  type record SL_BSR_Value_Type {
    /* According to TS 36.5321 clause 6.1.3.1a */
    B4_Type     DestinationIndex,
    B2_Type     LCG_ID,
    B6_Type     BufferSize
   };
   
  type record of SL_BSR_Value_Type SL_BSR_ValueList_Type;
  
  type record SL_BSR_MACHeader_Type {
    B5_Type            HeaderFieldLCID,      /* Sidelink BSR LCID='10111' Truncated Sidelink BSR LCID='10110' */
    B1_Type            HeaderFieldE,         /* E field in the MAC subheader */
    B1_Type            HeaderFieldF,         /* F field in the MAC subheader */
    SL_BSR_ValueList_Type  SL_BSR_Value
  };
   

  
  } // End group System_Indications
  
  //****************************************************************************
  
  group System_Interface {
  
  type record SYSTEM_CTRL_REQ {
    ReqAspCommonPart_Type       Common,         /* TimingInfo depends on respective primitive: */
    SystemRequest_Type          Request         /* - Cell
                                                 *   TimingInfo: 'now' (in general)
                                                 * - CellAttenuationList
                                                 *   TimingInfo: 'now' (in general, but activation time may be used also)
                                                 * - RadioBearerList
                                                 *   TimingInfo: 'now' in general;
                                                 *     activation time may be used in special case for release and/or reconfiguration of one or several RBs;
                                                 *     the following rules shall be considered:
                                                 *       - release/Reconfiguration of an RB shall not be scheduled ealier than 5ms after a previous data transmission on this RB
                                                 *       - subsequent release and reconfiguration(s) shall be scheduled with an interval of at least 5ms
                                                 *       - a subsequent data transmission on an RB shall not be scheduled ealier than 5ms after the last reconfiguration of the RB
                                                 *     the configuration shall be performed exactly at the given time
                                                 * - EnquireTiming
                                                 *   TimingInfo: 'now'
                                                 * - AS_Security
                                                 *   TimingInfo: 'now';
                                                 *   NOTE: "activation time" may be specified in the primitive based on PDCP SQN
                                                 * - Sps
                                                 *   TimingInfo: activation time for SPS assignment transmission
                                                 * - Paging
                                                 *   TimingInfo: Calculated paging occasion
                                                 * - L1MacIndCtrl
                                                 *   TimingInfo: 'now' (in general)
                                                 * - PdcpCount
                                                 *   TimingInfo: 'now' (in general)
                                                 *   activation time may be used in case of CA inter cell handover to set the PdcpCount
                                                 * - L1_TestMode
                                                 *   TimingInfo: depends on the test mode;
                                                 *   activation time is used e.g. for manipulation of the CRC
                                                 * - PdcchOrder
                                                 *   TimingInfo: 'now' (in general)
                                                 */
  };

  type record SYSTEM_CTRL_CNF {
    CnfAspCommonPart_Type       Common,         /* TimingInfo is ignored by TTCN (apart from EnquireTiming)
                                                 * => SS may set TimingInfo to "None" */
    SystemConfirm_Type          Confirm
  };

  type record SYSTEM_IND {
    IndAspCommonPart_Type       Common,         /* The SS shall provide TimingInfo (HSFN + SFN + subframe number) depending on the respective indication: */
    SystemIndication_Type       Indication      /* - Error/HarqError
                                                 *   TimingInfo: related to the error (if available)
                                                 * - RachPreamble
                                                 *   TimingInfo: shall indicate start of the RACH preamble. In case of Preamble repetition (BL/CE UE under test), indicates the timing of the first Preamble transmission.
                                                 * - SchedReq
                                                 *   TimingInfo: subframe containing the SR. In case of SR repetition (BL/CE UE under test), indicates the timing of the first SR transmission
                                                 * - BSR
                                                 *   TimingInfo: subframe in which the MAC PDU contains the BSR
                                                 * - UL_HARQ/HARQ Error
                                                 *   TimingInfo: subframe containing the UL HARQ. In case of HARQ repetition (BL/CE UE under test), indicates the timing of the first HARQ transmission
                                                 * - C_RNTI
                                                 *   TimingInfo: subframe in which the MAC PDU contains the C_RNTI
                                                 * - PHR
                                                 *   TimingInfo: subframe in which the MAC PDU contains the PHR
                                                 * - Periodic RI
                                                 * TimingInfo: subframe containing the RI. In case of RI repetition (BL/CE UE under test), indicates the timing of the first RI transmission
                                                 */
  };

  type port EUTRA_SYSTEM_PORT message {         /* EUTRA PTC: Port for system configuration */
    out SYSTEM_CTRL_REQ;
    in  SYSTEM_CTRL_CNF;
  };

  type port EUTRA_SYSIND_PORT message {         /* EUTRA PTC: Port for system indications */
    in  SYSTEM_IND;

  };
  } // End group System_Interface

  group MBMS_Configuration {
  
  type record MBMS_Config_Type {
    /* all fields are optional to allow single modifications;
     * activation time is applied in the common part of the ASP */
    MBSFN_SubframeConfigList    Mbsfn_SubframeConfigList  optional,     /* Configure subframes reserved for MBSFN */
    MbsfnAreaList_Type          MbsfnAreaList  optional,                 /* Configure all MBSFN areas */
    SCPTM_Config_Type           ScptmConfig    optional                 /*If this IE is present, MBMS services are provided via SC-PTM */
  };
  
  type record length(1..maxMBSFN_Area) of MbsfnArea_Type MbsfnAreaList_Type;
  
  type record MbsfnArea_Type {
    MBSFN_AreaInfo_r9           Mbsfn_AreaInfo  optional,               /* Configure MCCH scheduling
                                                                         * acc. to TS 36. 331 cl 9.1.1.4 there is no PDCP and MCCH use the RLC-UM mode
                                                                         * configuration/scheduling and contents of the MCCH Information is done in one go
                                                                         * (i.e.   there are no separate ports for MCCH data and configuration) */
    MCCH_Data_Type              McchData  optional,                     /* MCCH information to be broadcasted */
    MBSFNAreaConfiguration_r9   MbsfnAreaConfiguration  optional,       /* Configuration parameters for CommonCSA/PMCH/MTCH */
    MRB_List_Type               MRB_List  optional                      /* Configure/release MTCH MRBs */
  };
  
  type record MCCH_Data_Type {
    MBSFN_AreaId_r12            Mbsfn_AreaId  optional,                 /* Used only for modification of MCCH info.
                                                                         * Omitted if Mbsfn_AreaInfo is present and mandatory present otherwise */
    MCCH_MessageList_Type       MsgList
  };
  
  type record length(1..2) of MCCH_Message MCCH_MessageList_Type;       /* Includes mbsfnAreaConfiguration-r9 and optionally mbmsCountingRequest-r10. */
  
  type record length(1.. tsc_MaxMRB) of MRB_Type MRB_List_Type;
  
  const integer tsc_MaxMRB := 32;                       /* maximum MRB used in test cases - Value arbitrarily set to 32 (5bits)
                                                         * Theorically the maximum value is  maxPMCH-PerMBSFN * maxSessionPerPMCH i.e. 15*29 */
  type record MRB_Type {
    PmchLogicalChannel_Type     PmchLogicalChannel,
    MTCH_Config_Type            Config optional         /* present for MRB_COMMON_REQ for MTCH data scheduling;
                                                           not present for SystemRequest_Type MSI_Conf */
  };

  type union  MSI_Config_Type {
    Null_Type                   None,                   /* no MSI MCE included */
    MSI_MCE_Type                Auto                    /* SS automatically includes configured MSI in the first subframes allocated to the MCH within the MCH scheduling period */
  };

  type record MSI_Type {                                /* 36.321 clause 6.1.3.7 */
    integer                    LchID (0..31),           /* MRB Logical Channel ID */
    integer                    StopMTCH (0..2047)       /* Stop MTCH */
  };

  type record of MSI_Type MSI_MCE_Type;

  type union MTCH_Config_Type {
    MTCH_ConfigInfo_Type        AddOrReconfigure,       /* Add/re-configure RB -
                                                         * CellId : identifier of the cell being configured
                                                         * RoutingInfo : none
                                                         * TimingInfo : 'Now' in common cases
                                                         * ControlInfo : CnfFlag:=true; FollowOnFlag:=false (in general) */
    Null_Type                   Release                 /* release RB -
                                                         * CellId : identifier of the cell being configured
                                                         * RoutingInfo : none
                                                         * TimingInfo : 'Now' in common cases
                                                         * ControlInfo : CnfFlag:=true; FollowOnFlag:=false (in general) */
  };
  
  type record MTCH_ConfigInfo_Type  {                   /* Acc. to TS 36. 331 cl 9.1.1.4 there is no PDCP and MTCH use the RLC-UM mode */
    RLC_Configuration_Type      Rlc  optional,          /* Mandatory for initial configuration; omit means "keep as it is"
                                                         * Note RLC DL only UM mode with SN 5 bits is only valid */
    MAC_MCH_TestModeConfig_Type Mac  optional
  };
  
  type union MAC_MCH_TestModeConfig_Type {
    Null_Type                  None,                    /* MAC operation in normal mode for MCH */
    Null_Type                  Config                   /* MAC is configured in no header manipulation in DL [MTCH is DL only channel] */
  };
  
  type record PDCCH_MCCH_ChangeNotification_Type {
    NotificationIndicator_r9_Type       NotificationIndicator_r9 optional, /*MCCH change notification: shall be present, PDCCH shall be scrambled with M-RNTI
                                                                           * SC-MCCH change notification: shall be omitted. PDCCH shall be scrambled with SC-N-RTNI
                                                                           */

    SubframeOffsetList_Type             SubframeOffsetList  optional    /* list of subframe offsets relative to the absolute timing information given in the
                                                                         * common part of the ASP, this IE is MCCH-relevant and may be present only if NotificationIndicator_r9 is present;
                                                                         * if present, multiple MCCH Change Notifications are sent out at all occasions given by the list;
                                                                         * if omitted only a single MCCH Change Notifications is sent at the occasion given timing information given in
                                                                         * the common part of the ASP */
  };
  
  type record PmchConfig_Type {
    ToRS_EPRE_Ratios_Type      RelativeTxPower  optional                /* power ratio for MBSFN-RS and PMCH's resource elements relative to the CRS */
  };
  } // End group MBMS_Configuration

  group SCPTM_Configuration {

  
  type record SCPTM_Config_Type {
    /* all fields are optional to allow single modifications;
    * if IE is set to "omit" - no change from previous configuration
    * activation time is applied in the common part of the ASP
    */
    SC_MCCH_Scheduling_Type      ScMcchScheduling     optional,        /* SC-MCCH scheduling configuration on PDCCH as per SystemInformationBlockType20
                                                                        * acc. to TS 36. 331 cl 9.1.1.4 there is no PDCP and SC-MCCH uses the RLC-UM mode
                                                                        * configuration/scheduling and contents of the SC-MCCH Information is done in one go
                                                                        * (i.e.   there are no separate ports for SC-MCCH data and configuration) */
    SCPTMConfiguration_r13       ScptmConfiguration    optional,       /* Message containing SC-MTCH configuration to be broadcasted on SC-MCCH */
    SC_MRB_List_Type             ScMrbList  optional                   /* Configure/release SC-MTCH SC-MRB */
  };
    
  type record SC_MCCH_Scheduling_Type{
    SC_MCCH_RepetitionPeriod_Type      ScMcchRepetitionPeriod,
    SC_MCCH_Offset_Type                ScMcchOffset,
    SC_MCCH_FirstSubframe_Type         ScMcchFirstSubframe,
    SC_MCCH_Duration_Type              ScMcchDuration                   optional,
    SC_MCCH_ModificationPeriod_Type    ScMcchModificationPeriod
  };

  type union SC_MCCH_ModificationPeriod_Type {
    SC_MCCH_ModificationPeriod_r13_Type       ScMcchModificationPeriod_r13,
    SC_MCCH_ModificationPeriod_v1470_Type     ScMcchModificationPeriod_v1470
  };

  type union SC_MCCH_RepetitionPeriod_Type {
    SC_MCCH_RepetitionPeriod_r13_Type      ScMcchRepetitionPeriod_r13,
    SC_MCCH_RepetitionPeriod_v1470_Type    ScMcchRepetitionPeriod_v1470
  };

  type record length(1.. tsc_MaxSC_MRB) of SC_MRB_Type SC_MRB_List_Type;
    
  const integer tsc_MaxSC_MRB := 1023;                    /* maximum SC-MRBs used in test cases arbitrarly set to 32 (5bits), but can set to max number of SC-MTCHs in one cell that is 1023(10bits)*/

  type record SC_MRB_Type {
    SC_MRB_Identity_Type           ScMrbId,
    SC_MTCH_Config_Type            Config
  };
   
      
  type record SC_MTCH_Config_Type {
    B16_Type                        GRnti,
    MTCH_Config_Type                ScMtchConfig,
    SC_MTCH_SchedulingInfo_r13      ScMtchSchedulingInfo optional
  }
 
  } // End group SCPTM_Configuration
    
 //****************************************************************************
  
  group DirectIndicationInfo_Trigger {
  
  type record DirectIndicationInfoTrigger_Type {   /* CellId : identifier of the cell where the UE is active
                                                      RoutingInfo : None
                                                      TimingInfo : Calculated paging occasion
                                                      ControlInfo : CnfFlag:=false; FollowOnFlag:=false */
    /* primitive to trigger transmission of a Direct Indication Information on MPDCCH at a calculated paging occasion (TS 36.304, clause 7)
     * using DCI command 6_2 with Flag=0 and including the 8 bits in the DCI command (TS 36.212 clause 5.3.3.1.14);
     * the paging occasion is calculated by TTCN and activation time is applied;
     */
    B8_Type                         DirectIndicationInfo,       /* Direct Indication Information  */
    SubframeOffsetList_Type         SubframeOffsetList optional /* list of subframe offsets relative to the absolute timing information given in the common part of the ASP;
                                                                   if present, multiple direct indications are sent out at all occasions given by the list;
                                                                   if omitted only a single direct indication is sent at the occasion given timing information given in the common part of the ASP */
  };
  
  } // End group  DirectIndicationInfo_Trigger
  
 //****************************************************************************
  
  group Multiple_Uplink_Sps {
  
   type union MultipleUlSpsConfig_Type {
    MultipleUlSpsActivateInfoList_Type        Activate,  /* CellId : identifier of the cell where the UE is active
                                                          * RoutingInfo : None
                                                          * TimingInfo : activation time for SPS assignment/grant transmission
                                                          * ControlInfo : CnfFlag:=false; FollowOnFlag:=false
                                                          */
    MultipleUlSpsDeactivateInfoList_Type      Deactivate /* CellId : identifier of the cell where the UE is active
                                                          * RoutingInfo : None
                                                          * TimingInfo : activation time for SPS release indicated by PDCCH transmission or SS local deactivation
                                                          * ControlInfo : CnfFlag:=false; FollowOnFlag:=false
                                                          */
  };
  
  type record of MultipleUlSpsActivateInfo_Type MultipleUlSpsActivateInfoList_Type;
   
  type record MultipleUlSpsActivateInfo_Type {
    /* UL Semi-persistent scheduling (SPS):
     * Even though SPS is pre-configured at the UE (e.g. RRCConnectionSetup->RadioResourceConfiguration->sps-ConfigUL-ToAddModList-r14) it needs to be activated by L1 signalling
     * => SS shall 'activate' SPS by sending appropriate assignments/grants with the appropriate UL SPS index to the UE; this shall be done with an activation time.
     * If SPS with the same index is already configured and new Activate command is received, at the activation time SS locally deactivates old SPS configuration, sends UE an PDCCH assignment for new SPS assignment and locally activates new SPS configuration.
     * Special fields of PDCCH assignment are filled as per table 9.2-1 of 36.213 */
    B3_Type                                       UlSpsConfigurationIndex,      /* Indicates the SPS configuration indicated by the UL SPS configuration index field - included in DCI format 0 */
    C_RNTI                              UL_SPS_V_RNTI,                  /* ul-SPS-V-RNTI as signalled to UE */
    SpsAssignmentUL_Type            UplinkGrant
  };
  
  type record of MultipleUlSpsDeactivateInfo_Type MultipleUlSpsDeactivateInfoList_Type;

  type union MultipleUlSpsDeactivateInfo_Type {
    /* SS transmits PDCCH content indicating SPS release but holds the local SPS configuration until it is locally released */
    B3_Type                                       UlSpsConfigurationIndex,      /* Indicates the SPS configuration indicated by the UL SPS configuration index field - included in DCI format 0 */
    C_RNTI                              UL_SPS_V_RNTI,               /* ul-SPS-V-RNTI as signalled to UE */
    PdcchDciFormat_Type             DCI_Format                       /* only formats 0 (UL release) is applicable. It is a TTCN error if any other formats are used. */
  };

  } // End group Multiple_Uplink_Sps
 //****************************************************************************
  
  group Licensed_Assisted_Access {
  
  type record LAA_SubframeConfiguration_Type {
    B4_Type       SubframeConfig,   /* as per 36.213 Table 13A-1 */
    B5_Type       ULDurationAndOffset  optional,  /* only for UL LAA, as per 36.213 Table 13A-2 */
    B1_Type       PUSCH_TriggerB  optional  /* only for UL LAA  */

  };

  } // End group  Licensed_Assisted_Access
}
